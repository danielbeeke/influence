var Wn=Object.create,Ae=Object.defineProperty,Xn=Object.getPrototypeOf,zn=Object.prototype.hasOwnProperty,Gn=Object.getOwnPropertyNames,Jn=Object.getOwnPropertyDescriptor;var ut=t=>Ae(t,"__esModule",{value:!0});var nr=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports),ir=(t,e)=>{for(var r in e)Ae(t,r,{get:e[r],enumerable:!0})},Vn=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Gn(e))!zn.call(t,n)&&n!=="default"&&Ae(t,n,{get:()=>e[n],enumerable:!(r=Jn(e,n))||r.enumerable});return t},je=t=>Vn(ut(Ae(t!=null?Wn(Xn(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Ve=nr((yi,Se)=>{ut(yi);ir(yi,{A:()=>Nt,B:()=>Pt,C:()=>la,D:()=>ya,E:()=>xa,F:()=>Te,G:()=>ca,H:()=>D,I:()=>xt,J:()=>ra,K:()=>wt,L:()=>aa,M:()=>J,N:()=>U,O:()=>Et,P:()=>Je,Q:()=>$t,R:()=>Fa,S:()=>Kr,T:()=>Oe,U:()=>qe,V:()=>Ie,W:()=>ta,X:()=>we,Y:()=>Ma,_:()=>Ii,a:()=>Ri,b:()=>$a,c:()=>q,d:()=>de,e:()=>Dt,f:()=>Ge,g:()=>qa,h:()=>Tt,i:()=>St,j:()=>Ue,k:()=>oa,l:()=>pe,m:()=>na,n:()=>Xr,o:()=>Cr,p:()=>ga,q:()=>Wr,r:()=>ua,s:()=>Ei,t:()=>kt,u:()=>pa,v:()=>Si,w:()=>Ti,x:()=>sa,y:()=>jr,z:()=>P});var q;(function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"})(q||(q={}));var Ar;(function(t){t.Ok="ok",t.Errored="errored",t.Crashed="crashed"})(Ar||(Ar={}));var Et;(function(t){t.BeforeSend="before_send",t.EventProcessor="event_processor",t.NetworkError="network_error",t.QueueOverflow="queue_overflow",t.RateLimitBackoff="ratelimit_backoff",t.SampleRate="sample_rate"})(Et||(Et={}));var m=function(){return m=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m.apply(this,arguments)};function bi(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function ue(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bi(arguments[e]));return t}function jr(t){switch(Object.prototype.toString.call(t)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return J(t,Error)}}function Ei(t){return Object.prototype.toString.call(t)==="[object ErrorEvent]"}function Si(t){return Object.prototype.toString.call(t)==="[object DOMError]"}function Ti(t){return Object.prototype.toString.call(t)==="[object DOMException]"}function Te(t){return Object.prototype.toString.call(t)==="[object String]"}function St(t){return t===null||typeof t!="object"&&typeof t!="function"}function Ue(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cr(t){return typeof Event!="undefined"&&J(t,Event)}function Lr(t){return typeof Element!="undefined"&&J(t,Element)}function wi(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Tt(t){return Boolean(t&&t.then&&typeof t.then=="function")}function Oi(t){return Ue(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function J(t,e){try{return t instanceof e}catch(r){return!1}}function wt(t,e){try{for(var r=t,n=5,i=80,a=[],o=0,s=0,c=" > ",l=c.length,f=void 0;r&&o++<n&&(f=ki(r,e),!(f==="html"||o>1&&s+a.length*l+f.length>=i));)a.push(f),s+=f.length,r=r.parentNode;return a.reverse().join(c)}catch(p){return"<unknown>"}}function ki(t,e){var r,n,i=t,a=[],o,s,c,l,f;if(!i||!i.tagName)return"";a.push(i.tagName.toLowerCase());var p=((r=e)===null||r===void 0?void 0:r.length)?e.filter(function(v){return i.getAttribute(v)}).map(function(v){return[v,i.getAttribute(v)]}):null;if((n=p)===null||n===void 0?void 0:n.length)p.forEach(function(v){a.push("["+v[0]+'="'+v[1]+'"]')});else if(i.id&&a.push("#"+i.id),o=i.className,o&&Te(o))for(s=o.split(/\s+/),f=0;f<s.length;f++)a.push("."+s[f]);var h=["type","name","title","alt"];for(f=0;f<h.length;f++)c=h[f],l=i.getAttribute(c),l&&a.push("["+c+'="'+l+'"]');return a.join("")}var Ot=function(t,e){return Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ot(t,e)};function Ii(t,e){Ot(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var V=function(){return V=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},V.apply(this,arguments)};function Dr(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ri(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function Fr(){throw new Error("setTimeout has not been defined")}function Mr(){throw new Error("clearTimeout has not been defined")}var Y=Fr,W=Mr,ce;typeof window!="undefined"?ce=window:typeof self!="undefined"?ce=self:ce={};typeof ce.setTimeout=="function"&&(Y=setTimeout);typeof ce.clearTimeout=="function"&&(W=clearTimeout);function $r(t){if(Y===setTimeout)return setTimeout(t,0);if((Y===Fr||!Y)&&setTimeout)return Y=setTimeout,setTimeout(t,0);try{return Y(t,0)}catch(e){try{return Y.call(null,t,0)}catch(r){return Y.call(this,t,0)}}}function xi(t){if(W===clearTimeout)return clearTimeout(t);if((W===Mr||!W)&&clearTimeout)return W=clearTimeout,clearTimeout(t);try{return W(t)}catch(e){try{return W.call(null,t)}catch(r){return W.call(this,t)}}}var $=[],le=!1,K,Be=-1;function Ni(){!le||!K||(le=!1,K.length?$=K.concat($):Be=-1,$.length&&Hr())}function Hr(){if(!le){var t=$r(Ni);le=!0;for(var e=$.length;e;){for(K=$,$=[];++Be<e;)K&&K[Be].run();Be=-1,e=$.length}K=null,le=!1,xi(t)}}function Pi(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];$.push(new Ur(t,e)),$.length===1&&!le&&$r(Hr)}function Ur(t,e){this.fun=t,this.array=e}Ur.prototype.run=function(){this.fun.apply(null,this.array)};var Ai="browser",ji="browser",Ci=!0,Li=[],Di="",Fi={},Mi={},$i={};function Q(){}var Hi=Q,Ui=Q,Bi=Q,qi=Q,Yi=Q,Wi=Q,Xi=Q;function zi(t){throw new Error("process.binding is not supported")}function Gi(){return"/"}function Ji(t){throw new Error("process.chdir is not supported")}function Vi(){return 0}var fe=ce.performance||{},Ki=fe.now||fe.mozNow||fe.msNow||fe.oNow||fe.webkitNow||function(){return new Date().getTime()};function Qi(t){var e=Ki.call(fe)*.001,r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r=r-t[0],n=n-t[1],n<0&&(r--,n+=1e9)),[r,n]}var Zi=new Date;function ea(){var t=new Date,e=t-Zi;return e/1e3}var Br={nextTick:Pi,title:Ai,browser:Ci,env:{NODE_ENV:"production"},argv:Li,version:Di,versions:Fi,on:Hi,addListener:Ui,once:Bi,off:qi,removeListener:Yi,removeAllListeners:Wi,emit:Xi,binding:zi,cwd:Gi,chdir:Ji,umask:Vi,hrtime:Qi,platform:ji,release:Mi,config:$i,uptime:ea};function qe(){return Object.prototype.toString.call(typeof Br!="undefined"?Br:0)==="[object process]"}function we(t,e){return t.require(e)}function ta(t){var e;try{e=we(Se,t)}catch(n){}try{var r=we(Se,"process").cwd;e=we(Se,r()+"/node_modules/"+t)}catch(n){}return e}function kt(t,e){return e===void 0&&(e=0),typeof t!="string"||e===0||t.length<=e?t:t.substr(0,e)+"..."}function ra(t,e){if(!Array.isArray(t))return"";for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(String(i))}catch(a){r.push("[value cannot be serialized]")}}return r.join(e)}function na(t,e){return Te(t)?wi(e)?e.test(t):typeof e=="string"?t.indexOf(e)!==-1:!1:!1}var ia={};function P(){return qe()?global:typeof window!="undefined"?window:typeof self!="undefined"?self:ia}function de(){var t=P(),e=t.crypto||t.msCrypto;if(e!==void 0&&e.getRandomValues){var r=new Uint16Array(8);e.getRandomValues(r),r[3]=r[3]&4095|16384,r[4]=r[4]&16383|32768;var n=function(i){for(var a=i.toString(16);a.length<4;)a="0"+a;return a};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,o=i==="x"?a:a&3|8;return o.toString(16)})}function aa(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+r+n}}function oa(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function Ye(t){var e=P(),r=["debug","info","warn","error","log","assert"];if(!("console"in e))return t();var n=e.console,i={};r.forEach(function(o){o in e.console&&n[o].__sentry_original__&&(i[o]=n[o],n[o]=n[o].__sentry_original__)});var a=t();return Object.keys(i).forEach(function(o){n[o]=i[o]}),a}function sa(t,e,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||r||"Error"}function ua(t,e){e===void 0&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(r){t.exception.values[0].mechanism[r]=e[r]})}catch(r){}}function ca(){var t=P();try{return t.document.location.href}catch(e){return""}}var qr=60*1e3;function la(t,e){if(!e)return qr;var r=parseInt(""+e,10);if(!isNaN(r))return r*1e3;var n=Date.parse(""+e);return isNaN(n)?qr:n-t}var Z=P(),It="Sentry Logger ",fa=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Ye(function(){Z.console.log(It+"[Log]: "+e.join(" "))})},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Ye(function(){Z.console.warn(It+"[Warn]: "+e.join(" "))})},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];!this._enabled||Ye(function(){Z.console.error(It+"[Error]: "+e.join(" "))})},t}();Z.__SENTRY__=Z.__SENTRY__||{};var pe=Z.__SENTRY__.logger||(Z.__SENTRY__.logger=new fa),da=function(){function t(){this._hasWeakSet=typeof WeakSet=="function",this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(e){if(this._hasWeakSet)return this._inner.has(e)?!0:(this._inner.add(e),!1);for(var r=0;r<this._inner.length;r++){var n=this._inner[r];if(n===e)return!0}return this._inner.push(e),!1},t.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var r=0;r<this._inner.length;r++)if(this._inner[r]===e){this._inner.splice(r,1);break}},t}(),Rt="<anonymous>";function xt(t){try{return!t||typeof t!="function"?Rt:t.name||Rt}catch(e){return Rt}}function D(t,e,r){if(e in t){var n=t[e],i=r(n);if(typeof i=="function")try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:n}})}catch(a){}t[e]=i}}function pa(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function Yr(t){if(jr(t)){var e=t,r={message:e.message,name:e.name,stack:e.stack};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}if(Cr(t)){var i=t,a={};a.type=i.type;try{a.target=Lr(i.target)?wt(i.target):Object.prototype.toString.call(i.target)}catch(s){a.target="<unknown>"}try{a.currentTarget=Lr(i.currentTarget)?wt(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(s){a.currentTarget="<unknown>"}typeof CustomEvent!="undefined"&&J(t,CustomEvent)&&(a.detail=i.detail);for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o]);return a}return t}function ha(t){return~-encodeURI(t).split(/%..|./).length}function va(t){return ha(JSON.stringify(t))}function Wr(t,e,r){e===void 0&&(e=3),r===void 0&&(r=100*1024);var n=Xr(t,e);return va(n)>r?Wr(t,e-1,r):n}function ma(t){var e=Object.prototype.toString.call(t);if(typeof t=="string")return t;if(e==="[object Object]")return"[Object]";if(e==="[object Array]")return"[Array]";var r=zr(t);return St(r)?r:e}function zr(t,e){return e==="domain"&&t&&typeof t=="object"&&t._events?"[Domain]":e==="domainEmitter"?"[DomainEmitter]":typeof global!="undefined"&&t===global?"[Global]":typeof window!="undefined"&&t===window?"[Window]":typeof document!="undefined"&&t===document?"[Document]":Oi(t)?"[SyntheticEvent]":typeof t=="number"&&t!==t?"[NaN]":t===void 0?"[undefined]":typeof t=="function"?"[Function: "+xt(t)+"]":typeof t=="symbol"?"["+String(t)+"]":typeof t=="bigint"?"[BigInt: "+String(t)+"]":t}function Gr(t,e,r,n){if(r===void 0&&(r=Infinity),n===void 0&&(n=new da),r===0)return ma(e);if(e!=null&&typeof e.toJSON=="function")return e.toJSON();var i=zr(e,t);if(St(i))return i;var a=Yr(e),o=Array.isArray(e)?[]:{};if(n.memoize(e))return"[Circular ~]";for(var s in a)!Object.prototype.hasOwnProperty.call(a,s)||(o[s]=Gr(s,a[s],r-1,n));return n.unmemoize(e),o}function Xr(t,e){try{return JSON.parse(JSON.stringify(t,function(r,n){return Gr(r,n,e)}))}catch(r){return"**non-serializable**"}}function ga(t,e){e===void 0&&(e=40);var r=Object.keys(Yr(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return kt(r[0],e);for(var n=r.length;n>0;n--){var i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:kt(i,e)}return""}function Oe(t){var e,r;if(Ue(t)){var n=t,i={};try{for(var a=Dr(Object.keys(n)),o=a.next();!o.done;o=a.next()){var s=o.value;typeof n[s]!="undefined"&&(i[s]=Oe(n[s]))}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(Oe):t}function Nt(){if(!("fetch"in P()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function Pt(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function _a(){if(!Nt())return!1;var t=P();if(Pt(t.fetch))return!0;var e=!1,r=t.document;if(r&&typeof r.createElement=="function")try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Pt(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){pe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e}function ya(){if(!Nt())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function ba(){var t=P(),e=t.chrome,r=e&&e.app&&e.app.runtime,n="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!r&&n}var T=P(),ke={},Jr={};function Ra(t){if(!Jr[t])switch(Jr[t]=!0,t){case"console":Ea();break;case"dom":Oa();break;case"xhr":Ta();break;case"fetch":Sa();break;case"history":wa();break;case"error":ka();break;case"unhandledrejection":Ia();break;default:pe.warn("unknown instrumentation type:",t)}}function xa(t){!t||typeof t.type!="string"||typeof t.callback!="function"||(ke[t.type]=ke[t.type]||[],ke[t.type].push(t.callback),Ra(t.type))}function C(t,e){var r,n;if(!(!t||!ke[t]))try{for(var i=Dr(ke[t]||[]),a=i.next();!a.done;a=i.next()){var o=a.value;try{o(e)}catch(s){pe.error(`Error while triggering instrumentation handler.
Type: `+t+`
Name: `+xt(o)+`
Error: `+s)}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function Ea(){"console"in T&&["debug","info","warn","error","log","assert"].forEach(function(t){t in T.console&&D(T.console,t,function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];C("console",{args:r,level:t}),e&&Function.prototype.apply.call(e,T.console,r)}})})}function Sa(){!_a()||D(T,"fetch",function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n={args:e,fetchData:{method:Na(e),url:Pa(e)},startTimestamp:Date.now()};return C("fetch",V({},n)),t.apply(T,e).then(function(i){return C("fetch",V(V({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw C("fetch",V(V({},n),{endTimestamp:Date.now(),error:i})),i})}})}function Na(t){return t===void 0&&(t=[]),"Request"in T&&J(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function Pa(t){return t===void 0&&(t=[]),typeof t[0]=="string"?t[0]:"Request"in T&&J(t[0],Request)?t[0].url:String(t[0])}function Ta(){if("XMLHttpRequest"in T){var t=[],e=[],r=XMLHttpRequest.prototype;D(r,"open",function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=this,s=i[1];o.__sentry_xhr__={method:Te(i[0])?i[0].toUpperCase():i[0],url:i[1]},Te(s)&&o.__sentry_xhr__.method==="POST"&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var c=function(){if(o.readyState===4){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(p){}try{var l=t.indexOf(o);if(l!==-1){t.splice(l);var f=e.splice(l)[0];o.__sentry_xhr__&&f[0]!==void 0&&(o.__sentry_xhr__.body=f[0])}}catch(p){}C("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&typeof o.onreadystatechange=="function"?D(o,"onreadystatechange",function(l){return function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return c(),l.apply(o,f)}}):o.addEventListener("readystatechange",c),n.apply(o,i)}}),D(r,"send",function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return t.push(this),e.push(i),C("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}var We;function wa(){if(!ba())return;var t=T.onpopstate;T.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=T.location.href,a=We;if(We=i,C("history",{from:a,to:i}),t)try{return t.apply(this,r)}catch(o){}};function e(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n.length>2?n[2]:void 0;if(a){var o=We,s=String(a);We=s,C("history",{from:o,to:s})}return r.apply(this,n)}}D(T.history,"pushState",e),D(T.history,"replaceState",e)}var Aa=1e3,Xe,ze;function ja(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(r){}return!1}function Ca(t){if(t.type!=="keypress")return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch(r){}return!0}function Vr(t,e){return e===void 0&&(e=!1),function(r){if(!(!r||ze===r)&&!Ca(r)){var n=r.type==="keypress"?"input":r.type;Xe===void 0?(t({event:r,name:n,global:e}),ze=r):ja(ze,r)&&(t({event:r,name:n,global:e}),ze=r),clearTimeout(Xe),Xe=T.setTimeout(function(){Xe=void 0},Aa)}}}function Oa(){if("document"in T){var t=C.bind(null,"dom"),e=Vr(t,!0);T.document.addEventListener("click",e,!1),T.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(function(r){var n=T[r]&&T[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(D(n,"addEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},f=l[a]=l[a]||{refCount:0};if(!f.handler){var p=Vr(t);f.handler=p,i.call(this,a,p,s)}f.refCount+=1}catch(h){}return i.call(this,a,o,s)}}),D(n,"removeEventListener",function(i){return function(a,o,s){if(a==="click"||a=="keypress")try{var c=this,l=c.__sentry_instrumentation_handlers__||{},f=l[a];f&&(f.refCount-=1,f.refCount<=0&&(i.call(this,a,f.handler,s),f.handler=void 0,delete l[a]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(p){}return i.call(this,a,o,s)}}))})}}var At=null;function ka(){At=T.onerror,T.onerror=function(t,e,r,n,i){return C("error",{column:n,error:i,line:r,msg:t,url:e}),At?At.apply(this,arguments):!1}}var jt=null;function Ia(){jt=T.onunhandledrejection,T.onunhandledrejection=function(t){return C("unhandledrejection",t),jt?jt.apply(this,arguments):!0}}var H;(function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"})(H||(H={}));var Kr=function(){function t(e){var r=this;this._state=H.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(H.RESOLVED,n)},this._reject=function(n){r._setResult(H.REJECTED,n)},this._setResult=function(n,i){if(r._state===H.PENDING){if(Tt(i)){i.then(r._resolve,r._reject);return}r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==H.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===H.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===H.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.resolve=function(e){return new t(function(r){r(e)})},t.reject=function(e){return new t(function(r,n){n(e)})},t.all=function(e){return new t(function(r,n){if(!Array.isArray(e)){n(new TypeError("Promise.all requires an array as input."));return}if(e.length===0){r([]);return}var i=e.length,a=[];e.forEach(function(o,s){t.resolve(o).then(function(c){a[s]=c,i-=1,i===0&&r(a)}).then(null,n)})})},t.prototype.then=function(e,r){var n=this;return new t(function(i,a){n._attachHandler({done:!1,onfulfilled:function(o){if(!e){i(o);return}try{i(e(o));return}catch(s){a(s);return}},onrejected:function(o){if(!r){a(o);return}try{i(r(o));return}catch(s){a(s);return}}})})},t.prototype.catch=function(e){return this.then(function(r){return r},e)},t.prototype.finally=function(e){var r=this;return new t(function(n,i){var a,o;return r.then(function(s){o=!1,a=s,e&&e()},function(s){o=!0,a=s,e&&e()}).then(function(){if(o){i(a);return}n(a)})})},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),Ct={nowSeconds:function(){return Date.now()/1e3}};function La(){var t=P().performance;if(!(!t||!t.now)){var e=Date.now()-t.now();return{now:function(){return t.now()},timeOrigin:e}}}function Da(){try{var t=we(Se,"perf_hooks");return t.performance}catch(e){return}}var Lt=qe()?Da():La(),Qr=Lt===void 0?Ct:{nowSeconds:function(){return(Lt.timeOrigin+Lt.now())/1e3}},Dt=Ct.nowSeconds.bind(Ct),Ft=Qr.nowSeconds.bind(Qr),Fa=Ft,Ma=function(){var t=P().performance;if(!(!t||!t.now)){var e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,a=i<e,o=t.timing&&t.timing.navigationStart,s=typeof o=="number",c=s?Math.abs(o+r-n):e,l=c<e;return a||l?i<=c?t.timeOrigin:o:n}}(),Zr=100,Ge=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var r=new t;return e&&(r._breadcrumbs=ue(e._breadcrumbs),r._tags=m({},e._tags),r._extra=m({},e._extra),r._contexts=m({},e._contexts),r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=ue(e._eventProcessors),r._requestSession=e._requestSession),r},t.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},t.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},t.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(e){return this._requestSession=e,this},t.prototype.setTags=function(e){return this._tags=m(m({},this._tags),e),this._notifyScopeListeners(),this},t.prototype.setTag=function(e,r){var n;return this._tags=m(m({},this._tags),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(e){return this._extra=m(m({},this._extra),e),this._notifyScopeListeners(),this},t.prototype.setExtra=function(e,r){var n;return this._extra=m(m({},this._extra),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},t.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(e){return this.setTransactionName(e)},t.prototype.setContext=function(e,r){var n;return r===null?delete this._contexts[e]:this._contexts=m(m({},this._contexts),(n={},n[e]=r,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var e,r,n,i,a=this.getSpan();if((e=a)===null||e===void 0?void 0:e.transaction)return(r=a)===null||r===void 0?void 0:r.transaction;if((i=(n=a)===null||n===void 0?void 0:n.spanRecorder)===null||i===void 0?void 0:i.spans[0])return a.spanRecorder.spans[0]},t.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if(typeof e=="function"){var r=e(this);return r instanceof t?r:this}return e instanceof t?(this._tags=m(m({},this._tags),e._tags),this._extra=m(m({},this._extra),e._extra),this._contexts=m(m({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Ue(e)&&(e=e,this._tags=m(m({},this._tags),e.tags),this._extra=m(m({},this._extra),e.extra),this._contexts=m(m({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(e,r){var n=typeof r=="number"?Math.min(r,Zr):Zr;if(n<=0)return this;var i=m({timestamp:Dt()},e);return this._breadcrumbs=ue(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(e,r){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=m(m({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=m(m({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=m(m({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=m(m({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=m({trace:this._span.getTraceContext()},e.contexts);var i=(n=this._span.transaction)===null||n===void 0?void 0:n.name;i&&(e.tags=m({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=ue(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(ue(en(),this._eventProcessors),e,r)},t.prototype._notifyEventProcessors=function(e,r,n,i){var a=this;return i===void 0&&(i=0),new Kr(function(o,s){var c=e[i];if(r===null||typeof c!="function")o(r);else{var l=c(m({},r),n);Tt(l)?l.then(function(f){return a._notifyEventProcessors(e,f,n,i+1).then(o)}).then(null,s):a._notifyEventProcessors(e,l,n,i+1).then(o).then(null,s)}})},t.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(e)}),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},t}();function en(){var t=P();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function $a(t){en().push(t)}var Ha=function(){function t(e){this.errors=0,this.sid=de(),this.duration=0,this.status=q.Ok,this.init=!0,this.ignoreDuration=!1;var r=Ft();this.timestamp=r,this.started=r,e&&this.update(e)}return t.prototype.update=function(e){if(e===void 0&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),!this.did&&!e.did&&(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Ft(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=e.sid.length===32?e.sid:de()),e.init!==void 0&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),typeof e.started=="number"&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if(typeof e.duration=="number")this.duration=e.duration;else{var r=this.timestamp-this.started;this.duration=r>=0?r:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),typeof e.errors=="number"&&(this.errors=e.errors),e.status&&(this.status=e.status)},t.prototype.close=function(e){e?this.update({status:e}):this.status===q.Ok?this.update({status:q.Exited}):this.update()},t.prototype.toJSON=function(){return Oe({sid:""+this.sid,init:this.init,started:new Date(this.started*1e3).toISOString(),timestamp:new Date(this.timestamp*1e3).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:Oe({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),Mt=4,Ua=100,Je=function(){function t(e,r,n){r===void 0&&(r=new Ge),n===void 0&&(n=Mt),this._version=n,this._stack=[{}],this.getStackTop().scope=r,e&&this.bindClient(e)}return t.prototype.isOlderThan=function(e){return this._version<e},t.prototype.bindClient=function(e){var r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()},t.prototype.pushScope=function(){var e=Ge.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return this.getStack().length<=1?!1:!!this.getStack().pop()},t.prototype.withScope=function(e){var r=this.pushScope();try{e(r)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(e,r){var n=this._lastEventId=de(),i=r;if(!r){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(o){a=o}i={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,m(m({},i),{event_id:n})),n},t.prototype.captureMessage=function(e,r,n){var i=this._lastEventId=de(),a=n;if(!n){var o=void 0;try{throw new Error(e)}catch(s){o=s}a={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,r,m(m({},a),{event_id:i})),i},t.prototype.captureEvent=function(e,r){var n=de();return e.type!=="transaction"&&(this._lastEventId=n),this._invokeClient("captureEvent",e,m(m({},r),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(e,r){var n=this.getStackTop(),i=n.scope,a=n.client;if(!(!i||!a)){var o=a.getOptions&&a.getOptions()||{},s=o.beforeBreadcrumb,c=s===void 0?null:s,l=o.maxBreadcrumbs,f=l===void 0?Ua:l;if(!(f<=0)){var p=Dt(),h=m({timestamp:p},e),v=c?Ye(function(){return c(h,r)}):h;v!==null&&i.addBreadcrumb(v,f)}}},t.prototype.setUser=function(e){var r=this.getScope();r&&r.setUser(e)},t.prototype.setTags=function(e){var r=this.getScope();r&&r.setTags(e)},t.prototype.setExtras=function(e){var r=this.getScope();r&&r.setExtras(e)},t.prototype.setTag=function(e,r){var n=this.getScope();n&&n.setTag(e,r)},t.prototype.setExtra=function(e,r){var n=this.getScope();n&&n.setExtra(e,r)},t.prototype.setContext=function(e,r){var n=this.getScope();n&&n.setContext(e,r)},t.prototype.configureScope=function(e){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&e(n)},t.prototype.run=function(e){var r=$t(this);try{e(this)}finally{$t(r)}},t.prototype.getIntegration=function(e){var r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch(n){return pe.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},t.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},t.prototype.startTransaction=function(e,r){return this._callExtensionMethod("startTransaction",e,r)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(e){if(e===void 0&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var e,r,n,i,a;(n=(r=(e=this.getStackTop())===null||e===void 0?void 0:e.scope)===null||r===void 0?void 0:r.getSession())===null||n===void 0||n.close(),this._sendSessionUpdate(),(a=(i=this.getStackTop())===null||i===void 0?void 0:i.scope)===null||a===void 0||a.setSession()},t.prototype.startSession=function(e){var r=this.getStackTop(),n=r.scope,i=r.client,a=i&&i.getOptions()||{},o=a.release,s=a.environment,c=P(),l=(c.navigator||{}).userAgent,f=new Ha(m(m(m({release:o,environment:s},n&&{user:n.getUser()}),l&&{userAgent:l}),e));if(n){var p=n.getSession&&n.getSession();p&&p.status===q.Ok&&p.update({status:q.Exited}),this.endSession(),n.setSession(f)}return f},t.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),r=e.scope,n=e.client;if(!!r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(e){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this.getStackTop(),o=a.scope,s=a.client;s&&s[e]&&(r=s)[e].apply(r,ue(n,[o]))},t.prototype._callExtensionMethod=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=Ie(),a=i.__SENTRY__;if(a&&a.extensions&&typeof a.extensions[e]=="function")return a.extensions[e].apply(this,r);pe.warn("Extension method "+e+" couldn't be found, doing nothing.")},t}();function Ie(){var t=P();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function $t(t){var e=Ie(),r=U(e);return Ht(e,t),r}function qa(){var t=Ie();return(!tn(t)||U(t).isOlderThan(Mt))&&Ht(t,new Je),qe()?Ba(t):U(t)}function Ba(t){var e,r,n;try{var i=(n=(r=(e=Ie().__SENTRY__)===null||e===void 0?void 0:e.extensions)===null||r===void 0?void 0:r.domain)===null||n===void 0?void 0:n.active;if(!i)return U(t);if(!tn(i)||U(i).isOlderThan(Mt)){var a=U(t).getStackTop();Ht(i,new Je(a.client,Ge.clone(a.scope)))}return U(i)}catch(o){return U(t)}}function tn(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function U(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new Je),t.__SENTRY__.hub}function Ht(t,e){return t?(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0):!1}});var Un=nr(($o,Ne)=>{ut($o);ir($o,{Integrations:()=>Fs});var d=je(Ve()),_e;(function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"})(_e||(_e={}));var Vt=function(t,e){return Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Vt(t,e)};function Kt(t,e){Vt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var _=function(){return _=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_.apply(this,arguments)};function Ho(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Uo(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function An(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function re(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(An(arguments[e]));return t}var R;(function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"})(R||(R={}));(function(t){function e(r){if(r<400)return t.Ok;if(r>=400&&r<500)switch(r){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}t.fromHttpCode=e})(R||(R={}));var Bo=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Qt(t){t===void 0&&(t=(e=(0,d.g)().getClient())===null||e===void 0?void 0:e.getOptions());var e;return t?"tracesSampleRate"in t||"tracesSampler"in t:!1}function qo(t){var e=t.match(Bo);if(e){var r=void 0;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}}function tt(t){t===void 0&&(t=(0,d.g)());var e,r;return(r=(e=t)===null||e===void 0?void 0:e.getScope())===null||r===void 0?void 0:r.getTransaction()}function O(t){return t/1e3}function Yo(t){return t*1e3}function Wo(){(0,d.E)({callback:jn,type:"error"}),(0,d.E)({callback:jn,type:"unhandledrejection"})}function jn(){var t=tt();t&&(d.l.log("[Tracing] Transaction: "+R.InternalError+" -> Global error occured"),t.setStatus(R.InternalError))}var Cn=function(){function t(e){e===void 0&&(e=1e3),this.spans=[],this._maxlen=e}return t.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},t}(),Xo=function(){function t(e){if(this.traceId=(0,d.d)(),this.spanId=(0,d.d)().substring(16),this.startTimestamp=(0,d.R)(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return t.prototype.child=function(e){return this.startChild(e)},t.prototype.startChild=function(e){var r=new t(_(_({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},t.prototype.setTag=function(e,r){var n;return this.tags=_(_({},this.tags),(n={},n[e]=r,n)),this},t.prototype.setData=function(e,r){var n;return this.data=_(_({},this.data),(n={},n[e]=r,n)),this},t.prototype.setStatus=function(e){return this.status=e,this},t.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var r=R.fromHttpCode(e);return r!==R.UnknownError&&this.setStatus(r),this},t.prototype.isSuccess=function(){return this.status===R.Ok},t.prototype.finish=function(e){this.endTimestamp=typeof e=="number"?e:(0,d.R)()},t.prototype.toTraceparent=function(){var e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},t.prototype.toContext=function(){return(0,d.T)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(e){var r,n,i,a,o;return this.data=(r=e.data,r!=null?r:{}),this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=(n=e.spanId,n!=null?n:this.spanId),this.startTimestamp=(i=e.startTimestamp,i!=null?i:this.startTimestamp),this.status=e.status,this.tags=(a=e.tags,a!=null?a:{}),this.traceId=(o=e.traceId,o!=null?o:this.traceId),this},t.prototype.getTraceContext=function(){return(0,d.T)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return(0,d.T)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}(),Ln=function(t){Kt(e,t);function e(r,n){var i=t.call(this,r)||this;return i._measurements={},i._hub=(0,d.g)(),(0,d.M)(n,d.P)&&(i._hub=n),i.name=r.name||"",i.metadata=r.metadata||{},i._trimEnd=r.trimEnd,i.transaction=i,i}return e.prototype.setName=function(r){this.name=r},e.prototype.initSpanRecorder=function(r){r===void 0&&(r=1e3),this.spanRecorder||(this.spanRecorder=new Cn(r)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(r){this._measurements=_({},r)},e.prototype.setMetadata=function(r){this.metadata=_(_({},this.metadata),r)},e.prototype.finish=function(r){var n=this,i,a,o,s,c;if(this.endTimestamp===void 0){if(this.name||(d.l.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,r),this.sampled!==!0){d.l.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),(c=(o=(i=this._hub.getClient())===null||i===void 0?void 0:(a=i).getTransport)===null||o===void 0?void 0:(s=o.call(a)).recordLostEvent)===null||c===void 0||c.call(s,d.O.SampleRate,"transaction");return}var l=this.spanRecorder?this.spanRecorder.spans.filter(function(h){return h!==n&&h.endTimestamp}):[];this._trimEnd&&l.length>0&&(this.endTimestamp=l.reduce(function(h,v){return h.endTimestamp&&v.endTimestamp?h.endTimestamp>v.endTimestamp?h:v:h}).endTimestamp);var f={contexts:{trace:this.getTraceContext()},spans:l,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this.metadata},p=Object.keys(this._measurements).length>0;return p&&(d.l.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),f.measurements=this._measurements),d.l.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(f)}},e.prototype.toContext=function(){var r=t.prototype.toContext.call(this);return(0,d.T)(_(_({},r),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(r){var n;return t.prototype.updateWithContext.call(this,r),this.name=(n=r.name,n!=null?n:""),this._trimEnd=r.trimEnd,this},e}(Xo),Dn=1e3,zo=5e3,Go=function(t){Kt(e,t);function e(r,n,i,a){i===void 0&&(i="");var o=t.call(this,a)||this;return o._pushActivity=r,o._popActivity=n,o.transactionSpanId=i,o}return e.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp=typeof i=="number"?i:(0,d.R)(),n._popActivity(r.spanId)},r.endTimestamp===void 0&&this._pushActivity(r.spanId)),t.prototype.add.call(this,r)},e}(Cn),Jo=function(t){Kt(e,t);function e(r,n,i,a){i===void 0&&(i=Dn),a===void 0&&(a=!1);var o=t.call(this,r,n)||this;return o._idleHub=n,o._idleTimeout=i,o._onScope=a,o.activities={},o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],n&&a&&(Fn(n),d.l.log("Setting idle transaction on scope. Span ID: "+o.spanId),n.configureScope(function(s){return s.setSpan(o)})),o._initTimeout=setTimeout(function(){o._finished||o.finish()},o._idleTimeout),o}return e.prototype.finish=function(r){var n,i,a=this;if(r===void 0&&(r=(0,d.R)()),this._finished=!0,this.activities={},this.spanRecorder){d.l.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);try{for(var o=Uo(this._beforeFinishCallbacks),s=o.next();!s.done;s=o.next()){var c=s.value;c(this,r)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(l){if(l.spanId===a.spanId)return!0;l.endTimestamp||(l.endTimestamp=r,l.setStatus(R.Cancelled),d.l.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(l,void 0,2)));var f=l.startTimestamp<r;return f||d.l.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(l,void 0,2)),f}),d.l.log("[Tracing] flushing IdleTransaction")}else d.l.log("[Tracing] No active IdleTransaction");return this._onScope&&Fn(this._idleHub),t.prototype.finish.call(this,r)},e.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},e.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){var i=function(o){n._finished||n._pushActivity(o)},a=function(o){n._finished||n._popActivity(o)};this.spanRecorder=new Go(i,a,this.spanId,r),d.l.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),d.l.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,d.l.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(d.l.log("[Tracing] popActivity "+r),delete this.activities[r],d.l.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){var i=this._idleTimeout,a=(0,d.R)()+i/1e3;setTimeout(function(){n._finished||n.finish(a)},i)}},e.prototype._beat=function(){if(!this._finished){var r=Object.keys(this.activities).join("");r===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=r,this._heartbeatCounter>=3?(d.l.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(R.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var r=this;d.l.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout(function(){r._beat()},zo)},e}(Ln);function Fn(t){if(t){var e=t.getScope();if(e){var r=e.getTransaction();r&&e.setSpan(void 0)}}}function Vo(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function Mn(t,e,r){if(!Qt(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({transactionSampling:{method:_e.Explicit}}),t;var n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({transactionSampling:{method:_e.Sampler,rate:Number(n)}})):r.parentSampled!==void 0?(n=r.parentSampled,t.setMetadata({transactionSampling:{method:_e.Inheritance}})):(n=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:_e.Rate,rate:Number(n)}})),Ko(n)?n?(t.sampled=Math.random()<n,t.sampled?(d.l.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(d.l.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),t)):(d.l.log("[Tracing] Discarding transaction because "+(typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(d.l.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Ko(t){return isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(d.l.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1):t<0||t>1?(d.l.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1):!0}function Qo(t,e){var r,n,i=((r=this.getClient())===null||r===void 0?void 0:r.getOptions())||{},a=new Ln(t,this);return a=Mn(a,i,_({parentSampled:t.parentSampled,transactionContext:t},e)),a.sampled&&a.initSpanRecorder((n=i._experiments)===null||n===void 0?void 0:n.maxSpans),a}function Zo(t,e,r,n,i){var a,o,s=((a=t.getClient())===null||a===void 0?void 0:a.getOptions())||{},c=new Jo(e,t,r,n);return c=Mn(c,s,_({parentSampled:e.parentSampled,transactionContext:e},i)),c.sampled&&c.initSpanRecorder((o=s._experiments)===null||o===void 0?void 0:o.maxSpans),c}function es(){var t=(0,d.V)();!t.__SENTRY__||(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=Qo),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=Vo))}function ts(){var t=(0,d.V)();if(!!t.__SENTRY__){var e={mongodb:function(){var n=(0,d.X)(Ne,"./integrations/mongo");return new n.Mongo},mongoose:function(){var n=(0,d.X)(Ne,"./integrations/mongo");return new n.Mongo({mongoose:!0})},mysql:function(){var n=(0,d.X)(Ne,"./integrations/mysql");return new n.Mysql},pg:function(){var n=(0,d.X)(Ne,"./integrations/postgres");return new n.Postgres}},r=Object.keys(e).filter(function(n){return!!(0,d.W)(n)}).map(function(n){try{return e[n]()}catch(i){return}}).filter(function(n){return n});r.length>0&&(t.__SENTRY__.integrations=re(t.__SENTRY__.integrations||[],r))}}function rs(){es(),(0,d.U)()&&ts(),Wo()}var rt=(0,d.z)();function ns(){rt&&rt.document?rt.document.addEventListener("visibilitychange",function(){var t=tt();rt.document.hidden&&t&&(d.l.log("[Tracing] Transaction: "+R.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(R.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())}):d.l.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var Zt=function(t,e,r){var n;return function(i){e.value>=0&&(i||r)&&(e.delta=e.value-(n||0),(e.delta||n===void 0)&&(n=e.value,t(e)))}},is=function(){return"v2-"+Date.now()+"-"+(Math.floor(Math.random()*(9e12-1))+1e12)},er=function(t,e){return{name:t,value:e!=null?e:-1,delta:0,entries:[],id:is()}},tr=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if(t==="first-input"&&!("PerformanceEventTiming"in self))return;var r=new PerformanceObserver(function(n){return n.getEntries().map(e)});return r.observe({type:t,buffered:!0}),r}}catch(n){}},nt=function(t,e){var r=function(n){(n.type==="pagehide"||(0,d.z)().document.visibilityState==="hidden")&&(t(n),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},as=function(t,e){var r=er("CLS",0),n,i=0,a=[],o=function(c){if(c&&!c.hadRecentInput){var l=a[0],f=a[a.length-1];i&&a.length!==0&&c.startTime-f.startTime<1e3&&c.startTime-l.startTime<5e3?(i+=c.value,a.push(c)):(i=c.value,a=[c]),i>r.value&&(r.value=i,r.entries=a,n&&n())}},s=tr("layout-shift",o);s&&(n=Zt(t,r,e),nt(function(){s.takeRecords().map(o),n(!0)}))},it=-1,os=function(){return(0,d.z)().document.visibilityState==="hidden"?0:Infinity},ss=function(){nt(function(t){var e=t.timeStamp;it=e},!0)},rr=function(){return it<0&&(it=os(),ss()),{get firstHiddenTime(){return it}}},us=function(t,e){var r=rr(),n=er("FID"),i,a=function(s){i&&s.startTime<r.firstHiddenTime&&(n.value=s.processingStart-s.startTime,n.entries.push(s),i(!0))},o=tr("first-input",a);o&&(i=Zt(t,n,e),nt(function(){o.takeRecords().map(a),o.disconnect()},!0))},$n={},cs=function(t,e){var r=rr(),n=er("LCP"),i,a=function(c){var l=c.startTime;l<r.firstHiddenTime&&(n.value=l,n.entries.push(c)),i&&i()},o=tr("largest-contentful-paint",a);if(o){i=Zt(t,n,e);var s=function(){$n[n.id]||(o.takeRecords().map(a),o.disconnect(),$n[n.id]=!0,i(!0))};["keydown","click"].forEach(function(c){addEventListener(c,s,{once:!0,capture:!0})}),nt(s,!0)}},x=(0,d.z)(),ls={_reportAllChanges:!1},hs=function(){function t(e){var r,n;this._measurements={},this._performanceCursor=0,!(0,d.U)()&&((r=x)===null||r===void 0?void 0:r.performance)&&((n=x)===null||n===void 0?void 0:n.document)&&(x.performance.mark&&x.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(e._reportAllChanges),this._trackFID())}return t.prototype.addPerformanceEntries=function(e){var r=this;if(!(!x||!x.performance||!x.performance.getEntries||!d.Y)){d.l.log("[Tracing] Adding & adjusting spans using Performance API");var n=O(d.Y),i;if(x.document&&x.document.scripts){for(var a=0;a<x.document.scripts.length;a++)if(x.document.scripts[a].dataset.entry==="true"){i=x.document.scripts[a].src;break}}var o,s,c,l;if(x.performance.getEntries().slice(this._performanceCursor).forEach(function(p){var h=O(p.startTime),v=O(p.duration);if(!(e.op==="navigation"&&n+h<e.startTimestamp))switch(p.entryType){case"navigation":{fs(e,p,n),c=n+O(p.responseStart),l=n+O(p.requestStart);break}case"mark":case"paint":case"measure":{var g=ds(e,p,h,v,n);s===void 0&&p.name==="sentry-tracing-init"&&(s=g);var y=rr(),E=p.startTime<y.firstHiddenTime;p.name==="first-paint"&&E&&(d.l.log("[Measurements] Adding FP"),r._measurements.fp={value:p.startTime},r._measurements["mark.fp"]={value:g}),p.name==="first-contentful-paint"&&E&&(d.l.log("[Measurements] Adding FCP"),r._measurements.fcp={value:p.startTime},r._measurements["mark.fcp"]={value:g});break}case"resource":{var j=p.name.replace(x.location.origin,""),k=ps(e,p,j,h,v,n);o===void 0&&(i||"").indexOf(j)>-1&&(o=k);break}}}),o!==void 0&&s!==void 0&&ne(e,{description:"evaluation",endTimestamp:s,op:"script",startTimestamp:o}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),e.op==="pageload"){var f=O(d.Y);typeof c=="number"&&(d.l.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:(c-e.startTimestamp)*1e3},typeof l=="number"&&l<=c&&(this._measurements["ttfb.requestTime"]={value:(c-l)*1e3})),["fcp","fp","lcp"].forEach(function(p){if(!(!r._measurements[p]||f>=e.startTimestamp)){var h=r._measurements[p].value,v=f+O(h),g=Math.abs((v-e.startTimestamp)*1e3),y=g-h;d.l.log("[Measurements] Normalized "+p+" from "+h+" to "+g+" ("+y+")"),r._measurements[p].value=g}}),this._measurements["mark.fid"]&&this._measurements.fid&&ne(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+O(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,e.setMeasurements(this._measurements),this._tagMetricInfo(e)}}},t.prototype._tagMetricInfo=function(e){this._lcpEntry&&(d.l.log("[Measurements] Adding LCP Data"),this._lcpEntry.element&&e.setTag("lcp.element",(0,d.K)(this._lcpEntry.element)),this._lcpEntry.id&&e.setTag("lcp.id",this._lcpEntry.id),this._lcpEntry.url&&e.setTag("lcp.url",this._lcpEntry.url.trim().slice(0,200)),e.setTag("lcp.size",this._lcpEntry.size)),this._clsEntry&&this._clsEntry.sources&&(d.l.log("[Measurements] Adding CLS Data"),this._clsEntry.sources.forEach(function(r,n){return e.setTag("cls.source."+(n+1),(0,d.K)(r.node))}))},t.prototype._trackCLS=function(){var e=this;as(function(r){var n=r.entries.pop();!n||(d.l.log("[Measurements] Adding CLS"),e._measurements.cls={value:r.value},e._clsEntry=n)})},t.prototype._trackNavigator=function(e){var r=x.navigator;if(!!r){var n=r.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),at(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),at(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),at(r.deviceMemory)&&e.setTag("deviceMemory",String(r.deviceMemory)),at(r.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},t.prototype._trackLCP=function(e){var r=this;cs(function(n){var i=n.entries.pop();if(!!i){var a=O(d.Y),o=O(i.startTime);d.l.log("[Measurements] Adding LCP"),r._measurements.lcp={value:n.value},r._measurements["mark.lcp"]={value:a+o},r._lcpEntry=i}},e)},t.prototype._trackFID=function(){var e=this;us(function(r){var n=r.entries.pop();if(!!n){var i=O(d.Y),a=O(n.startTime);d.l.log("[Measurements] Adding FID"),e._measurements.fid={value:r.value},e._measurements["mark.fid"]={value:i+a}}})},t}();function fs(t,e,r){X({transaction:t,entry:e,event:"unloadEvent",timeOrigin:r}),X({transaction:t,entry:e,event:"redirect",timeOrigin:r}),X({transaction:t,entry:e,event:"domContentLoadedEvent",timeOrigin:r}),X({transaction:t,entry:e,event:"loadEvent",timeOrigin:r}),X({transaction:t,entry:e,event:"connect",timeOrigin:r}),X({transaction:t,entry:e,event:"secureConnection",timeOrigin:r,eventEnd:"connectEnd",description:"TLS/SSL"}),X({transaction:t,entry:e,event:"fetch",timeOrigin:r,eventEnd:"domainLookupStart",description:"cache"}),X({transaction:t,entry:e,event:"domainLookup",timeOrigin:r,description:"DNS"}),vs(t,e,r)}function ds(t,e,r,n,i){var a=i+r,o=a+n;return ne(t,{description:e.name,endTimestamp:o,op:e.entryType,startTimestamp:a}),a}function ps(t,e,r,n,i,a){if(!(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")){var o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize);var s=a+n,c=s+i;return ne(t,{description:r,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:s,data:o}),c}}function X(t){var e=t.transaction,r=t.entry,n=t.event,i=t.timeOrigin,a=t.eventEnd,o=t.description,s=a?r[a]:r[n+"End"],c=r[n+"Start"];!c||!s||ne(e,{op:"browser",description:o!=null?o:n,startTimestamp:i+O(c),endTimestamp:i+O(s)})}function vs(t,e,r){ne(t,{op:"browser",description:"request",startTimestamp:r+O(e.requestStart),endTimestamp:r+O(e.responseEnd)}),ne(t,{op:"browser",description:"response",startTimestamp:r+O(e.responseStart),endTimestamp:r+O(e.responseEnd)})}function ne(t,e){var r=e.startTimestamp,n=Ho(e,["startTimestamp"]);return r&&t.startTimestamp>r&&(t.startTimestamp=r),t.startChild(_({startTimestamp:r},n))}function at(t){return typeof t=="number"&&isFinite(t)}var ms=["localhost",/^\//],ot={traceFetch:!0,traceXHR:!0,tracingOrigins:ms};function ys(t){var e=_(_({},ot),t),r=e.traceFetch,n=e.traceXHR,i=e.tracingOrigins,a=e.shouldCreateSpanForRequest,o={},s=function(f){if(o[f])return o[f];var p=i;return o[f]=p.some(function(h){return(0,d.m)(f,h)})&&!(0,d.m)(f,"sentry_key"),o[f]},c=s;typeof a=="function"&&(c=function(f){return s(f)&&a(f)});var l={};r&&(0,d.E)({callback:function(f){gs(f,c,l)},type:"fetch"}),n&&(0,d.E)({callback:function(f){_s(f,c,l)},type:"xhr"})}function gs(t,e,r){if(!(!Qt()||!(t.fetchData&&e(t.fetchData.url)))){if(t.endTimestamp&&t.fetchData.__span){var n=r[t.fetchData.__span];n&&(t.response?n.setHttpStatus(t.response.status):t.error&&n.setStatus(R.InternalError),n.finish(),delete r[t.fetchData.__span]);return}var i=tt();if(i){var n=i.startChild({data:_(_({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http.client"});t.fetchData.__span=n.spanId,r[n.spanId]=n;var a=t.args[0]=t.args[0],o=t.args[1]=t.args[1]||{},s=o.headers;(0,d.M)(a,Request)&&(s=a.headers),s?typeof s.append=="function"?s.append("sentry-trace",n.toTraceparent()):Array.isArray(s)?s=re(s,[["sentry-trace",n.toTraceparent()]]):s=_(_({},s),{"sentry-trace":n.toTraceparent()}):s={"sentry-trace":n.toTraceparent()},o.headers=s}}}function _s(t,e,r){var n,i;if(!(!Qt()||((n=t.xhr)===null||n===void 0?void 0:n.__sentry_own_request__)||!(((i=t.xhr)===null||i===void 0?void 0:i.__sentry_xhr__)&&e(t.xhr.__sentry_xhr__.url)))){var a=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){var o=r[t.xhr.__sentry_xhr_span_id__];o&&(o.setHttpStatus(a.status_code),o.finish(),delete r[t.xhr.__sentry_xhr_span_id__]);return}var s=tt();if(s){var o=s.startChild({data:_(_({},a.data),{type:"xhr",method:a.method,url:a.url}),description:a.method+" "+a.url,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=o.spanId,r[t.xhr.__sentry_xhr_span_id__]=o,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",o.toTraceparent())}catch(l){}}}}var Pe=(0,d.z)();function bs(t,e,r){if(e===void 0&&(e=!0),r===void 0&&(r=!0),!Pe||!Pe.location){d.l.warn("Could not initialize routing instrumentation due to invalid location");return}var n=Pe.location.href,i;e&&(i=t({name:Pe.location.pathname,op:"pageload"})),r&&(0,d.E)({callback:function(a){var o=a.to,s=a.from;if(s===void 0&&n&&n.indexOf(o)!==-1){n=void 0;return}s!==o&&(n=void 0,i&&(d.l.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:Pe.location.pathname,op:"navigation"}))},type:"history"})}var Es=600,Ss=_({idleTimeout:Dn,markBackgroundTransactions:!0,maxTransactionDuration:Es,routingInstrumentation:bs,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},ot),Os=function(){function t(e){this.name=t.id,this._emitOptionsWarning=!1;var r=ot.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&e.tracingOrigins.length!==0?r=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=_(_(_({},Ss),e),{tracingOrigins:r}),this._metrics=new hs(_(_({},ls),this.options._metricOptions))}return t.prototype.setupOnce=function(e,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(d.l.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),d.l.warn("[Tracing] We added a reasonable default for you: "+ot.tracingOrigins));var i=this.options,a=i.routingInstrumentation,o=i.startTransactionOnLocationChange,s=i.startTransactionOnPageLoad,c=i.markBackgroundTransactions,l=i.traceFetch,f=i.traceXHR,p=i.tracingOrigins,h=i.shouldCreateSpanForRequest;a(function(v){return n._createRouteTransaction(v)},s,o),c&&ns(),ys({traceFetch:l,traceXHR:f,tracingOrigins:p,shouldCreateSpanForRequest:h})},t.prototype._createRouteTransaction=function(e){var r=this;if(!this._getCurrentHub){d.l.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.");return}var n=this.options,i=n.beforeNavigate,a=n.idleTimeout,o=n.maxTransactionDuration,s=e.op==="pageload"?Ts():void 0,c=_(_(_({},e),s),{trimEnd:!0}),l=typeof i=="function"?i(c):c,f=l===void 0?_(_({},c),{sampled:!1}):l;f.sampled===!1&&d.l.log("[Tracing] Will not send "+f.op+" transaction because of beforeNavigate."),d.l.log("[Tracing] Starting "+f.op+" transaction on scope");var p=this._getCurrentHub(),h=(0,d.z)().location,v=Zo(p,f,a,!0,{location:h});return v.registerBeforeFinishCallback(function(g,y){r._metrics.addPerformanceEntries(g),ws(Yo(o),g,y)}),v},t.id="BrowserTracing",t}();function Ts(){var t=ks("sentry-trace");if(t)return qo(t)}function ks(t){var e=(0,d.z)().document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}function ws(t,e,r){var n=r-e.startTimestamp,i=r&&(n>t||n<0);i&&(e.setStatus(R.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}var Rs=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){if(!this._router){d.l.error("ExpressIntegration is missing an Express instance");return}Is(this._router,this._methods)},t.id="Express",t}();function Hn(t,e){var r=t.length;switch(r){case 2:return function(n,i){var a=i.__sentry_transaction;if(a){var o=a.startChild({description:t.name,op:"middleware."+e});i.once("finish",function(){o.finish()})}return t.call(this,n,i)};case 3:return function(n,i,a){var o,s=i.__sentry_transaction,c=(o=s)===null||o===void 0?void 0:o.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var p;(p=c)===null||p===void 0||p.finish(),a.call.apply(a,re([this],l))})};case 4:return function(n,i,a,o){var s,c=a.__sentry_transaction,l=(s=c)===null||s===void 0?void 0:s.startChild({description:t.name,op:"middleware."+e});t.call(this,n,i,a,function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var h;(h=l)===null||h===void 0||h.finish(),o.call.apply(o,re([this],f))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}function xs(t,e){return t.map(function(r){return typeof r=="function"?Hn(r,e):Array.isArray(r)?r.map(function(n){return typeof n=="function"?Hn(n,e):n}):r})}function Ns(t,e){var r=t[e];return t[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,re([this],xs(n,e)))},t}function Is(t,e){e===void 0&&(e=[]),e.forEach(function(r){return Ns(t,r)})}var Ps=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._usePgNative=!!e.usePgNative}return t.prototype.setupOnce=function(e,r){var n,i=(0,d.W)("pg");if(!i){d.l.error("Postgres Integration was unable to require `pg` package.");return}if(this._usePgNative&&!((n=i.native)===null||n===void 0?void 0:n.Client)){d.l.error("Postgres Integration was unable to access 'pg-native' bindings.");return}var a=(this._usePgNative?i.native:i).Client;(0,d.H)(a.prototype,"query",function(o){return function(s,c,l){var f,p,h,v=r().getScope(),g=(f=v)===null||f===void 0?void 0:f.getSpan(),y=(p=g)===null||p===void 0?void 0:p.startChild({description:typeof s=="string"?s:s.text,op:"db"});if(typeof l=="function")return o.call(this,s,c,function(j,k){var A;(A=y)===null||A===void 0||A.finish(),l(j,k)});if(typeof c=="function")return o.call(this,s,function(j,k){var A;(A=y)===null||A===void 0||A.finish(),c(j,k)});var E=typeof c!="undefined"?o.call(this,s,c):o.call(this,s);return(0,d.h)(E)?E.then(function(j){var k;return(k=y)===null||k===void 0||k.finish(),j}):((h=y)===null||h===void 0||h.finish(),E)}})},t.id="Postgres",t}(),As=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,r){var n=(0,d.W)("mysql/lib/Connection.js");if(!n){d.l.error("Mysql Integration was unable to require `mysql` package.");return}(0,d.H)(n,"createQuery",function(i){return function(a,o,s){var c,l,f=r().getScope(),p=(c=f)===null||c===void 0?void 0:c.getSpan(),h=(l=p)===null||l===void 0?void 0:l.startChild({description:typeof a=="string"?a:a.sql,op:"db"});return typeof s=="function"?i.call(this,a,o,function(v,g,y){var E;(E=h)===null||E===void 0||E.finish(),s(v,g,y)}):typeof o=="function"?i.call(this,a,function(v,g,y){var E;(E=h)===null||E===void 0||E.finish(),o(v,g,y)}):i.call(this,a,o,s)}})},t.id="Mysql",t}(),js=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],Cs={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},Ls=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:js,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}return t.prototype.setupOnce=function(e,r){var n=this._useMongoose?"mongoose":"mongodb",i=(0,d.W)(n);if(!i){d.l.error("Mongo Integration was unable to require `"+n+"` package.");return}this._instrumentOperations(i.Collection,this._operations,r)},t.prototype._instrumentOperations=function(e,r,n){var i=this;r.forEach(function(a){return i._patchOperation(e,a,n)})},t.prototype._patchOperation=function(e,r,n){if(r in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);(0,d.H)(e.prototype,r,function(a){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var c,l,f,p,h=o[o.length-1],v=n().getScope(),g=(c=v)===null||c===void 0?void 0:c.getSpan();if(typeof h!="function"||r==="mapReduce"&&o.length===2){var y=(l=g)===null||l===void 0?void 0:l.startChild(i(this,r,o)),E=a.call.apply(a,re([this],o));return(0,d.h)(E)?E.then(function(k){var A;return(A=y)===null||A===void 0||A.finish(),k}):((f=y)===null||f===void 0||f.finish(),E)}var j=(p=g)===null||p===void 0?void 0:p.startChild(i(this,r,o.slice(0,-1)));return a.call.apply(a,re([this],o.slice(0,-1),[function(k,A){var st;(st=j)===null||st===void 0||st.finish(),h(k,A)}]))}})}},t.prototype._getSpanContextFromOperationArguments=function(e,r,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},a={op:"db",description:r,data:i},o=Cs[r],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!o||!s)return a;try{if(r==="mapReduce"){var c=An(n,2),l=c[0],f=c[1];i[o[0]]=typeof l=="string"?l:l.name||"<anonymous>",i[o[1]]=typeof f=="string"?f:f.name||"<anonymous>"}else for(var p=0;p<o.length;p++)i[o[p]]=JSON.stringify(n[p])}catch(h){}return a},t.id="Mongo",t}(),Ds=Object.freeze({__proto__:null,Express:Rs,Postgres:Ps,Mysql:As,Mongo:Ls}),Fs=_(_({},Ds),{BrowserTracing:Os});rs()});import{html as Ms,render as Bn}from"https://cdn.skypack.dev/uhtml@3.2.2/async";import{html as ye}from"https://cdn.skypack.dev/uhtml@3.2.2/async";function ie(t,e,r=!1){var n;return function(){var i=this,a=arguments,o=function(){n=null,r||t.apply(i,a)},s=r&&!n;clearTimeout(n),n=setTimeout(o,e),s&&t.apply(i,a)}}function Kn(t){for(var e=0,r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);return e}function Qn(t){var e=(t&16777215).toString(16).toUpperCase();return"00000".substring(0,6-e.length)+e}var ar=t=>Qn(Kn(t));import{html as sr}from"https://cdn.skypack.dev/uhtml@3.2.2/async";import Zn from"https://cdn.skypack.dev/@jacobmarshall/kv";var or=(t,e=100,r=!1)=>`https://images.weserv.nl/?url=${encodeURI(t)}&w=${e}${r?"":`&h=${e}&fit=cover&a=attention`}`;var ct=Zn("thumbnailAlternative"),ae=async(t,e,r=100,n=!1)=>{var c,l;let i=e==null?void 0:e.replace(/[^A-Z]/g,"").split("").map(f=>f.substr(0,1)),a=await ct.get(e);a===void 0&&(a=t);let o=()=>sr`<div class="image-alternative" style=${`--color: #${ar(e)}`}>
            <span>${i.join("")}</span>
        </div>`;if(a===void 0){let f=`https://en.wikipedia.org/w/api.php?action=query&origin=*&titles=${e}&prop=pageimages&format=json&pithumbsize=${r*3}`,h=await(await fetch(f,{method:"GET"})).json(),[v]=Object.keys(h.query.pages);a=(l=(c=h.query.pages[v].thumbnail)==null?void 0:c.source)!=null?l:!1,await ct.set(e,a)}let s=async f=>{S(),await ct.set(e,!1)};return a===!1?o():sr`<img onerror=${[s,{once:!0}]} class="image" src=${or(a,r,n)} />`};var ur=t=>t.split(/\/|#/).pop();var cr=t=>{let e=localStorage.saved?JSON.parse(localStorage.saved):[];e=e.filter(r=>r!==t),localStorage.saved=JSON.stringify(e)};var ei=t=>t==="person"?"dbo:influenced|^dbo:influencedBy":"dbo:influencedBy|^dbo:influenced",ti=(t,e)=>`
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT (REPLACE(STR(?person), "http://dbpedia.org/resource/", "") as ?id) ?label ?image ?abstract ?birth ?death (count(DISTINCT ?influenced) as ?influence) ?isPerson
    WHERE {
        <http://dbpedia.org/resource/${t}> rdfs:label ?label .

        BIND (<http://dbpedia.org/resource/${t}> as ?person)
   

        OPTIONAL { <http://dbpedia.org/resource/${t}> dbo:abstract  ?abstract }

        OPTIONAL {?person dbo:activeYearsStartYear ?activeYearsStartYear}
        OPTIONAL {?person dbp:activeYearsStartYear ?activeYearsStartYearProperty}

        OPTIONAL {?person dbo:birthYear ?birthYear}
        OPTIONAL {?person dbo:deathYear ?deathYear}

        OPTIONAL {?person dbo:birthDate ?birthDate}
        OPTIONAL {?person dbo:deathDate ?deathDate}

        BIND (COALESCE(?deathDate, ?deathYear) as ?death)
        BIND (COALESCE(?birthDate, ?birthYear, ?activeYearsStartYear, ?activeYearsStartYearProperty) as ?birth)

        OPTIONAL { ?person dbo:influenced|^dbo:influencedBy ?influenced }

        OPTIONAL {<http://dbpedia.org/resource/${t}> dbo:image ?image }
        FILTER (lang(?label) = '${e}')
        FILTER (lang(?abstract) = '${e}')
        BIND(EXISTS{?person a schema:Person} AS ?isPerson)
    }
`,lr=(t,e,r)=>`
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT ?abstract ?label ?image (REPLACE(STR(?item), "http://dbpedia.org/resource/", "") as ?id)
    WHERE {
        <http://dbpedia.org/resource/${t}> ${r} ?item .
        ?item dbo:abstract ?abstract .
        ?item rdfs:label ?label .

        OPTIONAL {?item dbo:image ?image}
        FILTER (lang(?label) = '${e}')
        FILTER (lang(?abstract) = '${e}')
    }
    ORDER BY ASC(?date)
`,ri=(t,e)=>lr(t,e,"dbo:mainInterest"),ni=(t,e)=>lr(t,e,"dbo:notableIdea"),ii=(t,e)=>`
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT ?abstract ?label ?pages ?date ?image (REPLACE(STR(?work), "http://dbpedia.org/resource/", "") as ?id)
    WHERE {
        ?work dbo:author <http://dbpedia.org/resource/${t}> .
        ?work dbo:abstract ?abstract .
        ?work dbp:name ?label .
       
        OPTIONAL {?work dbo:releaseDate ?releaseDate}
        OPTIONAL {?work dbp:releaseDate ?releaseDateProperty}
        BIND (COALESCE(?releaseDate, ?releaseDateProperty) as ?date)

        OPTIONAL {?work dbo:image ?image}
        FILTER (lang(?label) = '${e}')
        FILTER (lang(?abstract) = '${e}')
    }
    ORDER BY ASC(?date)
`,ai=t=>`
SELECT ?uri ?label ?image  (count(?influenced) as ?influence) { 
    ?uri rdfs:label ?label .
    ?uri a schema:Person .
    ?label bif:contains '"${t}"' .
    OPTIONAL { ?uri dbo:image ?image }
    filter langMatches(lang(?label), "en")
    OPTIONAL { ?uri dbo:influenced|^dbo:influencedBy ?influenced }
}
ORDER BY DESC(?influence) 
LIMIT 20        
`,fr=(t,e,r)=>`
    PREFIX foaf: <http://xmlns.com/foaf/0.1/>
    PREFIX dbo: <http://dbpedia.org/ontology/>
    PREFIX dbp: <http://dbpedia.org/property/>
    PREFIX dbr: <http://dbpedia.org/resource/>

    SELECT DISTINCT (REPLACE(STR(?person), "http://dbpedia.org/resource/", "") as ?id) ?label ?image ?birth ?death (count(DISTINCT ?influenced) as ?influence)
    WHERE {
        ?person rdfs:label ?label .
        { SELECT DISTINCT ?person { <http://dbpedia.org/resource/${t}> ${ei(e)} ?person . }}

        OPTIONAL {?person dbo:activeYearsStartYear ?activeYearsStartYear}
        OPTIONAL {?person dbp:activeYearsStartYear ?activeYearsStartYearProperty}

        OPTIONAL {?person dbo:image ?image }

        OPTIONAL {?person dbo:birthYear ?birthYear}
        OPTIONAL {?person dbo:deathYear ?deathYear}

        OPTIONAL {?person dbo:birthDate ?birthDate}
        OPTIONAL {?person dbo:deathDate ?deathDate}

        BIND (COALESCE(?deathDate, ?deathYear) as ?death)
        BIND (COALESCE(?birthDate, ?birthYear, ?activeYearsStartYear, ?activeYearsStartYearProperty) as ?birth)

        ?person dbo:influenced|^dbo:influencedBy ?influenced .

        FILTER isIRI(?person) 
        FILTER exists { ?person a schema:Person }
        FILTER exists { ?influenced a schema:Person }

        FILTER (lang(?label) = '${r}')
    }
    ORDER BY DESC(?influence)

    LIMIT 1000
`,dr=new Map,z=async t=>{let e=dr.get(t);if(!e){let r=t.replace(/\n/g," ");return fetch(`https://dbpedia.org/sparql?default-graph-uri=http://dbpedia.org&query=${encodeURI(r)}&format=application/json-ld`).then(i=>i.json()).then(i=>(dr.set(t,i),i))}return e},G=(t,e=!1)=>{let r=t.head.vars,n=t.results.bindings.map(i=>{var o;let a={};for(let s of r)a[s]=(o=i[s])==null?void 0:o.value;return a});return e?n[0]:n},lt=async(t,e="en")=>{let r=await z(ti(t,e));return G(r,!0)},ft=async(t,e="en")=>{let r=await z(fr(t,"person",e));return G(r)},dt=async(t,e="en")=>{let r=await z(fr(t,"others",e));return G(r)},pr=async(t,e="en")=>{let r=await z(ii(t,e));return G(r)},hr=async(t,e="en")=>{let r=await z(ri(t,e));return G(r)},vr=async(t,e="en")=>{let r=await z(ni(t,e));return G(r)},mr=async t=>{let e=await z(ai(t));return G(e)};var oi=async t=>{if(t.target.value.length<4)return;pt=!0,S();let e=await mr(t.target.value);console.log(e),gr(e.map(r=>({label:r.label,image:r.image,id:ur(r.uri)}))),pt=!1,S()},ht=[],gr=t=>{ht=t},pt=!1,_r=()=>{let t=localStorage.saved?JSON.parse(localStorage.saved):[];return ye`


        <form class=${`search-form ${pt?"is-searching":""}`} onsubmit=${e=>e.preventDefault()}>
        <header class="site-header">
            <img class="site-logo" src="/logo.svg" />
            <h1 class="site-title">Influence</h1>
        </header>

        <h3 class="title">Search for a philosopher or an influential thinker</h3>
            <div class="search-field-wrapper">
            <img class="search-icon" src="/zoom.svg" />
            <input onkeyup=${ie(oi,500)} type="search" class="search-input">
            <img class="search-loading-icon" src="/loading.svg" />
            </div>

            ${ht.map(e=>ye`
                <a class="suggestion" href=${`/${e.id}`} onclick=${()=>gr([])}>
                    ${ae(e.image,e.label)}
                    <h3 class="title">${e.label}</h3>
                </div>
            `)}

            ${ht.length?null:ye`
            <div class="hint">
            You can try <a href="/Søren_Kierkegaard">Søren Kierkegaard</a> or <a href="/Plato">Plato</a>
            </div>
            `}

            ${t.length?ye`
                <div class="saved-bookmarks">
                    <h3 class="title"><img src="/bookmarks.svg"> Your bookmarks</h3>

                    <ul class="bookmark-list">
                    ${t.map(e=>{let r=e.substr(1).split(",").map(i=>decodeURI(i).replace(/_/g," ")),n=`${r[0]} > ${r[r.length-1]} (${r.length})`;return ye`
                        <li>
                            <a class="bookmark" href=${e}>${n}</a>
                            <img class="remove-bookmark" onclick=${()=>{cr(e),S()}} src="/delete.svg" />
                        </li>
                        `})}

                    </ul>
                </div>
            `:null}

        </form>
    `};function yr(t,e,r={leading:!0,trailing:!0}){var n,i,a,o=null,s=0,c=function(){s=r.leading===!1?0:Date.now(),o=null,a=t.apply(n,i),o||(n=i=null)};return function(){var l=Date.now();!s&&r.leading===!1&&(s=l);var f=e-(l-s);return n=this,i=arguments,f<=0||f>e?(o&&(clearTimeout(o),o=null),s=l,a=t.apply(n,i),o||(n=i=null)):!o&&r.trailing!==!1&&(o=setTimeout(c,f)),a}}var be=()=>decodeURI(location.pathname).substr(1).split(",").filter(Boolean);import{html as N}from"https://cdn.skypack.dev/uhtml@3.2.2/async";var Ce=(t,e)=>be()[e]===t;import{html as Le}from"https://cdn.skypack.dev/uhtml@3.2.2/async";var si=t=>{let e=location.pathname.substr(1).split(",");return e.splice(t),`/${e.join(",")}`},ui=(t,e)=>{let r=location.pathname.substr(1).split(",");return e<0?r=[t]:(r.splice(e),r[e]=t),`/${r.join(",")}`},br=(t,e=0,r)=>{let n=Ce(t.id,r),i=De.indexOf(parseInt(t.influence)),a=Math.round(100/De.length*i);return Le`
        <div 
            class=${`person ${n?"active":""}`} 
            style=${`--index: ${e}`}
            data-id=${t.id}>
        
                <button class="expand-button" onclick=${()=>{location.hash=t.id,S()}}>
                    ${ae(t.image,t.label)}
                    <img class="loading-icon" src="/loading.svg" />
                </button>

                <a class="name" href=${n?si(r):ui(t.id,r)}>
                    ${t.birth?Le`<span class="dates">${t.birth.substr(0,4)} ${t.death?Le` / ${t.death.substr(0,4)}`:null}</span>`:null}
                    <span class="text">${t.label}</span>
                    ${a?Le`<div class="progress-bar" style=${`--percentage: ${a}`}></div>`:null}
                </a>

                <span class="action-button"></span>
        
        </div>
    `};var Fe=t=>{var n,i;let e=(i=(n=t==null?void 0:t.match(/\d{4}/g))==null?void 0:n.map(a=>parseInt(a)))!=null?i:[],r=Math.min(...e);return r!==Infinity?r:null};var Me=new Map,vt=(t,e)=>(Me.has(t)||Me.set(t,e))&&Me.get(t);var ci={37:1,38:1,39:1,40:1},mt=t=>e=>{if(!t){e.preventDefault();return}let r=Math.abs(e.touches[0].clientX-e.target._startTouch.x),n=Math.abs(e.touches[0].clientY-e.target._startTouch.y);(t==="y"&&r<n*3||t==="x"&&n<r*3)&&e.cancelable&&e.preventDefault()},Er=mt("x"),Sr=mt("y"),Ee=mt(null);function Tr(t){t.target._startTouch={x:t.touches[0].clientX,y:t.touches[0].clientY}}function wr(t){if(ci[t.keyCode])return Ee(t),!1}var Or=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){Or=!0}}))}catch(t){}var oe=Or?{passive:!1}:!1,kr="onwheel"in document.createElement("div")?"wheel":"mousewheel";function Ir(t,e){t.addEventListener("DOMMouseScroll",Ee,!1),t.addEventListener(kr,Ee,oe),t.addEventListener("touchmove",e==="x"?Er:Sr,oe),t.addEventListener("touchstart",Tr,oe),t.addEventListener("keydown",wr,!1)}function Rr(t,e){t.removeEventListener("DOMMouseScroll",Ee,!1),t.removeEventListener(kr,Ee,oe),t.removeEventListener("touchmove",e==="x"?Er:Sr,oe),t.removeEventListener("touchstart",Tr,oe),t.removeEventListener("keydown",wr,!1)}function gt(t=window){let e=0,r=t===window?window.scrollY:t.scrollTop,n=t===window?window.scrollX:t.scrollLeft;return new Promise(i=>{function a(o){let s=t===window?window.scrollY:t.scrollTop,c=t===window?window.scrollX:t.scrollLeft;o>=500||o-e>20?i(null):((c!=r||s!=n)&&(e=o,r=c,n=s),requestAnimationFrame(a.bind(null,o+1)))}a(0)})}var _t=!1,li=new Date().getTime(),B=async(t=!1)=>{let e=[...document.querySelectorAll(".column")];if(!e.length)return;let r=[],n=new Date().getTime()-li;for(let i of e){let a=i.querySelector(".person.active");if(a){let o=a.offsetTop-20,s=i.querySelector(".inner"),c=n<2e3?"auto":"smooth";t&&(c="auto"),s.scrollTo({top:o,behavior:c}),r.push(gt(s).then(()=>{i.classList.remove("is-loading"),Ir(i.querySelector(".inner"),"y")}))}else Rr(i.querySelector(".inner"),"y"),i.classList.remove("is-loading")}await Promise.all(r),_t||(_t=!0,document.body.scrollTo({left:document.body.scrollWidth,behavior:n<2e3?"auto":"smooth"}),gt(document.body).then(()=>{_t=!1}))};function xr(t,e,r){return r.indexOf(t)===e}var fi=[],di=async t=>{let e=await vr(t.id);return e.length?N`
    <ul class="ideas item-list">
        <h3>Ideas:</h3>
        ${e.map(r=>N`<li><a class="idea item" href=${`#${r.id}`}>${r.label}</a></li>`)}
    </ul>
    `:null},pi=async t=>{let e=await pr(t.id);for(let r of e)r.cleanedDate=Fe(r.date);return e.sort((r,n)=>r.cleanedDate-n.cleanedDate),e.length?N`
    <ul class="works item-list">
        <h3>Works:</h3>
        ${e.map(r=>N`<li><a class="work item" href=${`#${r.id}`}>${r.label} ${Fe(r.date)?N`(${Fe(r.date)})`:null}</a></li>`)}
    </ul>
    `:null},hi=async t=>{let e=await hr(t.id);return e.length?N`
    <ul class="interests item-list">
        <h3>Interests:</h3>
        ${e.map(r=>N`<li><a class="interest item" href=${`#${r.id}`}>${r.label}</a></li>`)}
    </ul>
    `:null},se="",vi=async()=>{let t=localStorage.saved?JSON.parse(localStorage.saved):[];(t.includes(location.pathname)?"bookmarked":"default")==="bookmarked"?(t=t.filter(r=>r!==location.pathname),se="bookmark-removed"):(t.push(location.pathname),se="bookmark-added"),localStorage.saved=JSON.stringify(t),await S(),setTimeout(()=>{se=t.includes(location.pathname)?"bookmarked":"default",S()},1500)},Nr=new Map,De=[],Pr=async(t,e=!1)=>{let r=await Promise.all(t.map(o=>lt(o))),n=vt(location.hash,{popup:null}),i="";if(location.hash){let o=decodeURI(location.hash).substr(1);o==="info"?n.popup={label:"About this app",abstract:`The purple bars show the relative influence compared to all the others currently shown in the app.
                
                Click on the photos of the people to see a popup with more information. Click on the names to expand and see the influence of that person.`}:o&&(n.popup||setTimeout(()=>{lt(o,"en").then(s=>{var l,f;n.popup=s,i=(f=(l=n==null?void 0:n.popup)==null?void 0:l.abstract)!=null?f:"";let c=i.match(/(\.)[^ "]/g);if(c)for(let p of c)i=i.replace(p,`.

`+p.substr(1));n.popup&&(n.popup.abstract=i),S()})},100))}document.body.dataset.selectedPerson=(!!location.hash).toString(),se.includes("-")||(se=(localStorage.saved?JSON.parse(localStorage.saved):[]).includes(location.pathname)?"bookmarked":"default");let a=location.pathname;return Nr.has(a)||Promise.all([dt(t[0]),Promise.resolve([r[0]]),...t.map(o=>ft(o))]).then(o=>{De=o.flatMap(s=>s.map(c=>parseInt(c.influence))).sort((s,c)=>s-c).filter(xr),Nr.set(a,!0),S()}),N`
        ${location.hash?N`
        <div class="selected-person">
            ${n.popup?N`
            <h1 class="title">${n.popup.label} <button class="close" onclick=${()=>{location.hash="",S()}}></button></h1>
            <div class="abstract">
                ${ae(n.popup.image,n.popup.label,300,!0)}
                <p ref=${o=>o.innerText=n.popup.abstract}></p>
                ${parseInt(n.popup.isPerson)?N`<a href=${`/${n.popup.id}`}>Start with ${n.popup.label}</a>`:null}
                
            </div>

            `:null}
        </div>        
        ${n.popup?null:N`<img class="popup-loading" src="/loading.svg" />`}
        `:null}

        <div class="people">
            ${yt(t[0],dt,-1,`Influencers of ${r[0].label}`)}
            ${yt(t[0],async()=>[r[0]],0,"Your starting selection:")}
            ${t.map((o,s)=>yt(o,ft,s+1,`Influenced by ${r[s].label}`))}
        </div>

        <div class="fixed-menu">
            <a class="fixed-button info-button" href="#info">
                <div class="icon"></div>
            </a>

            <a class="fixed-button restart-button" href="/">
                <div class="icon"></div>
            </a>

            <button data-state=${se} class="fixed-button bookmark-button" onclick=${vi}>
                <span class="text removed">Bookmark removed</span>
                <span class="text added">Bookmark added</span>
                <div class="icon"></div>
            </button>        
        </div>

    `},bt=new Map,mi=async(t,e)=>{bt.set(t,!0),await S(),e.focus()},He=(t,e=null)=>{bt.set(t,!1),$e.set(t,""),e&&(e.value=""),S()},$e=new Map,gi=ie((t,e)=>{$e.set(e,t.target.value),S()},100),_i=(t,e)=>{t.target.value||He(e)},yt=async(t,e,r,n)=>{var c,l;let i=vt(t+":"+r,{people:[],isLoading:!0});i.isLoading&&e(t).then(f=>{i.people=f,i.isLoading=!1,S().then(B)});let a=i.people.find(f=>Ce(f.id,r)),o,s=(c=$e.get(r))==null?void 0:c.toLowerCase();return N`
    <div ref=${f=>fi.push(f)} class=${`column is-loading ${r===0?"selected":""} ${a?"active":""}`}>
        <h3 class=${`column-title ${bt.get(r)?"active-search":""}`}>
            ${n}
            <input .value=${(l=$e.get(r))!=null?l:""} placeholder="Filter" onblur=${f=>_i(f,r)} onkeyup=${f=>gi(f,r)} ref=${f=>o=f} type="search" class="search-field">
            <button onclick=${()=>mi(r,o)} class="do-search-icon"></button>
            <button onclick=${()=>He(r,o)} class="close-search-icon"></button>
        </h3>

        <div class="inner">
            ${i.people.filter(f=>s?f.label.toLowerCase().includes(s):!0).map((f,p)=>br(f,p,r))}

            <div class="scroll-maker"></div>
        </div>

        ${a?N`
        <div class="item-lists scroll-box">
            ${pi(a)}
            ${hi(a)}
            ${di(a)}
        </div>
        `:null}

    </div>
    `};document.body.addEventListener("click",t=>{var r,n;let e=t.target.nodeName!=="A"?t.target.closest("a"):t.target;if(e){let i=e.getAttribute("href");if(i&&i[0]==="/"){t.preventDefault();let a=(r=e.closest(".person"))==null?void 0:r.classList.contains("active"),o=(n=e.closest(".person"))==null?void 0:n.classList.contains("person");o&&!a&&(e.closest(".person").classList.add("loading"),setTimeout(B,400));let s=[...document.querySelectorAll(".column")];if(o&&a){let c=s.indexOf(e.closest(".column"));if(c===1)history.pushState(null,null,i),S();else for(let[l,f]of s.entries())l>c&&(f.addEventListener("animationend",async()=>{history.pushState(null,null,i),await S(),He(l-1),B()},{once:!0}),f.classList.add("prepare-removal"))}else history.pushState(null,null,i),S()}}});var u=je(Ve()),he=je(Ve());var Ut=function(t,e){return Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ut(t,e)};function Ke(t,e){Ut(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b=function(){return b=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b.apply(this,arguments)};function rn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qe(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function ee(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qe(arguments[e]));return t}var F;(function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"})(F||(F={}));(function(t){function e(r){switch(r){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}t.fromString=e})(F||(F={}));var te;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"})(te||(te={}));(function(t){function e(r){return r>=200&&r<300?t.Success:r===429?t.RateLimit:r>=400&&r<500?t.Invalid:r>=500?t.Failed:t.Unknown}t.fromHttpCode=e})(te||(te={}));function Ya(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function Wa(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ya(arguments[e]));return t}function Xa(t){t.then(null,function(e){console.error(e)})}var Ja=Object.setPrototypeOf||({__proto__:[]}instanceof Array?za:Ga);function za(t,e){return t.__proto__=e,t}function Ga(t,e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r]);return t}var w=function(t){(0,u._)(e,t);function e(r){var n=this.constructor,i=t.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,Ja(i,n.prototype),i}return e}(Error),Va=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Re="Invalid Dsn",nn=function(){function t(e){typeof e=="string"?this._fromString(e):this._fromComponents(e),this._validate()}return t.prototype.toString=function(e){e===void 0&&(e=!1);var r=this,n=r.host,i=r.path,a=r.pass,o=r.port,s=r.projectId,c=r.protocol,l=r.publicKey;return c+"://"+l+(e&&a?":"+a:"")+("@"+n+(o?":"+o:"")+"/"+(i&&i+"/")+s)},t.prototype._fromString=function(e){var r=Va.exec(e);if(!r)throw new w(Re);var n=(0,u.a)(r.slice(1),6),i=n[0],a=n[1],o=n[2],s=o===void 0?"":o,c=n[3],l=n[4],f=l===void 0?"":l,p=n[5],h="",v=p,g=v.split("/");if(g.length>1&&(h=g.slice(0,-1).join("/"),v=g.pop()),v){var y=v.match(/^\d+/);y&&(v=y[0])}this._fromComponents({host:c,pass:s,path:h,projectId:v,port:f,protocol:i,publicKey:a})},t.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},t.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!e[r])throw new w(Re+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new w(Re+": Invalid projectId "+this.projectId);if(this.protocol!=="http"&&this.protocol!=="https")throw new w(Re+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new w(Re+": Invalid port "+this.port)},t}(),Ka=function(){function t(e){this._limit=e,this._buffer=[]}return t.prototype.isReady=function(){return this._limit===void 0||this.length()<this._limit},t.prototype.add=function(e){var r=this;if(!this.isReady())return u.S.reject(new w("Not adding Promise due to buffer limit reached."));var n=e();return this._buffer.indexOf(n)===-1&&this._buffer.push(n),n.then(function(){return r.remove(n)}).then(null,function(){return r.remove(n).then(null,function(){})}),n},t.prototype.remove=function(e){var r=this._buffer.splice(this._buffer.indexOf(e),1)[0];return r},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(e){var r=this;return new u.S(function(n){var i=setTimeout(function(){e&&e>0&&n(!1)},e);u.S.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},t}();function an(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=(0,u.g)();if(n&&n[t])return n[t].apply(n,Wa(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Qa(t,e){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return an("captureException",t,{captureContext:e,originalException:t,syntheticException:r})}function Za(t){an("withScope",t)}var on="7",sn=function(){function t(e,r,n){r===void 0&&(r={}),this.dsn=e,this._dsnObject=new nn(e),this.metadata=r,this._tunnel=n}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){var e=this.getDsn(),r=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return r+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var e=this.getDsn();return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},t.prototype.getRequestHeaders=function(e,r){var n=this.getDsn(),i=["Sentry sentry_version="+on];return i.push("sentry_client="+e+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},t.prototype.getReportDialogEndpoint=function(e){e===void 0&&(e={});var r=this.getDsn(),n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];i.push("dsn="+r.toString());for(var a in e)if(a!=="dsn")if(a==="user"){if(!e.user)continue;e.user.name&&i.push("name="+encodeURIComponent(e.user.name)),e.user.email&&i.push("email="+encodeURIComponent(e.user.email))}else i.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return i.length?n+"?"+i.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(e){if(this._tunnel)return this._tunnel;var r=this.getBaseApiEndpoint(),n=this.getDsn();return""+r+n.projectId+"/"+e+"/"},t.prototype._encodedAuth=function(){var e=this.getDsn(),r={sentry_key:e.publicKey,sentry_version:on};return(0,u.u)(r)},t}();var I=function(){return I=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},I.apply(this,arguments)};function eo(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function to(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ro(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function M(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ro(arguments[e]));return t}var un=[];function cn(t){return t.reduce(function(e,r){return e.every(function(n){return r.name!==n.name})&&e.push(r),e},[])}function no(t){var e=t.defaultIntegrations&&M(t.defaultIntegrations)||[],r=t.integrations,n=M(cn(e));Array.isArray(r)?n=M(n.filter(function(o){return r.every(function(s){return s.name!==o.name})}),cn(r)):typeof r=="function"&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map(function(o){return o.name}),a="Debug";return i.indexOf(a)!==-1&&n.push.apply(n,M(n.splice(i.indexOf(a),1))),n}function io(t){un.indexOf(t.name)===-1&&(t.setupOnce(u.b,u.g),un.push(t.name),u.l.log("Integration installed: "+t.name))}function ao(t){var e={};return no(t).forEach(function(r){e[r.name]=r,io(r)}),Object.defineProperty(e,"initialized",{value:!0}),e}var oo=function(){function t(e,r){this._integrations={},this._numProcessing=0,this._backend=new e(r),this._options=r,r.dsn&&(this._dsn=new nn(r.dsn))}return t.prototype.captureException=function(e,r,n){var i=this,a=r&&r.event_id;return this._process(this._getBackend().eventFromException(e,r).then(function(o){return i._captureEvent(o,r,n)}).then(function(o){a=o})),a},t.prototype.captureMessage=function(e,r,n,i){var a=this,o=n&&n.event_id,s=(0,u.i)(e)?this._getBackend().eventFromMessage(String(e),r,n):this._getBackend().eventFromException(e,n);return this._process(s.then(function(c){return a._captureEvent(c,n,i)}).then(function(c){o=c})),o},t.prototype.captureEvent=function(e,r,n){var i=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(function(a){i=a})),i},t.prototype.captureSession=function(e){if(!this._isEnabled()){u.l.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?u.l.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1}))},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.getTransport=function(){return this._getBackend().getTransport()},t.prototype.flush=function(e){var r=this;return this._isClientDoneProcessing(e).then(function(n){return r.getTransport().close(e).then(function(i){return n&&i})})},t.prototype.close=function(e){var r=this;return this.flush(e).then(function(n){return r.getOptions().enabled=!1,n})},t.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=ao(this._options))},t.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(r){return u.l.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(e,r){var n,i,a=!1,o=!1,s=r.exception&&r.exception.values;if(s){o=!0;try{for(var c=to(s),l=c.next();!l.done;l=c.next()){var f=l.value,p=f.mechanism;if(p&&p.handled===!1){a=!0;break}}}catch(g){n={error:g}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}var h=e.status===u.c.Ok,v=h&&e.errors===0||h&&a;v&&(e.update(I(I({},a&&{status:u.c.Crashed}),{errors:e.errors||Number(o||a)})),this.captureSession(e))},t.prototype._sendSession=function(e){this._getBackend().sendSession(e)},t.prototype._isClientDoneProcessing=function(e){var r=this;return new u.S(function(n){var i=0,a=1,o=setInterval(function(){r._numProcessing==0?(clearInterval(o),n(!0)):(i+=a,e&&i>=e&&(clearInterval(o),n(!1)))},a)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},t.prototype._prepareEvent=function(e,r,n){var i=this,a=this.getOptions().normalizeDepth,o=a===void 0?3:a,s=I(I({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:(0,u.d)()),timestamp:e.timestamp||(0,u.e)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var c=r;n&&n.captureContext&&(c=u.f.clone(c).update(n.captureContext));var l=u.S.resolve(s);return c&&(l=c.applyToEvent(s,n)),l.then(function(f){return typeof o=="number"&&o>0?i._normalizeEvent(f,o):f})},t.prototype._normalizeEvent=function(e,r){if(!e)return null;var n=I(I(I(I(I({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(function(o){return I(I({},o),o.data&&{data:(0,u.n)(o.data,r)})})}),e.user&&{user:(0,u.n)(e.user,r)}),e.contexts&&{contexts:(0,u.n)(e.contexts,r)}),e.extra&&{extra:(0,u.n)(e.extra,r)});e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace);var i=this.getOptions()._experiments,a=i===void 0?{}:i;return a.ensureNoCircularStructures?(0,u.n)(n):n},t.prototype._applyClientOptions=function(e){var r=this.getOptions(),n=r.environment,i=r.release,a=r.dist,o=r.maxValueLength,s=o===void 0?250:o;"environment"in e||(e.environment="environment"in r?n:"production"),e.release===void 0&&i!==void 0&&(e.release=i),e.dist===void 0&&a!==void 0&&(e.dist=a),e.message&&(e.message=(0,u.t)(e.message,s));var c=e.exception&&e.exception.values&&e.exception.values[0];c&&c.value&&(c.value=(0,u.t)(c.value,s));var l=e.request;l&&l.url&&(l.url=(0,u.t)(l.url,s))},t.prototype._applyIntegrationsMetadata=function(e){var r=Object.keys(this._integrations);r.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=M(e.sdk.integrations||[],r))},t.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},t.prototype._captureEvent=function(e,r,n){return this._processEvent(e,r,n).then(function(i){return i.event_id},function(i){u.l.error(i)})},t.prototype._processEvent=function(e,r,n){var i=this,a,o,s=this.getOptions(),c=s.beforeSend,l=s.sampleRate,f=this.getTransport();if(!this._isEnabled())return u.S.reject(new w("SDK not enabled, will not capture event."));var p=e.type==="transaction";return!p&&typeof l=="number"&&Math.random()>l?((o=(a=f).recordLostEvent)===null||o===void 0||o.call(a,u.O.SampleRate,"event"),u.S.reject(new w("Discarding event because it's not included in the random sample (sampling rate = "+l+")"))):this._prepareEvent(e,n,r).then(function(h){var v,g;if(h===null)throw(g=(v=f).recordLostEvent)===null||g===void 0||g.call(v,u.O.EventProcessor,e.type||"event"),new w("An event processor returned null, will not send event.");var y=r&&r.data&&r.data.__sentry__===!0;if(y||p||!c)return h;var E=c(h,r);return i._ensureBeforeSendRv(E)}).then(function(h){var v,g;if(h===null)throw(g=(v=f).recordLostEvent)===null||g===void 0||g.call(v,u.O.BeforeSend,e.type||"event"),new w("`beforeSend` returned `null`, will not send event.");var y=n&&n.getSession&&n.getSession();return!p&&y&&i._updateSessionFromEvent(y,h),i._sendEvent(h),h}).then(null,function(h){throw h instanceof w?h:(i.captureException(h,{data:{__sentry__:!0},originalException:h}),new w(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+h))})},t.prototype._process=function(e){var r=this;this._numProcessing+=1,e.then(function(n){return r._numProcessing-=1,n},function(n){return r._numProcessing-=1,n})},t.prototype._ensureBeforeSendRv=function(e){var r="`beforeSend` method has to return `null` or a valid event.";if((0,u.h)(e))return e.then(function(n){if(!((0,u.j)(n)||n===null))throw new w(r);return n},function(n){throw new w("beforeSend rejected with "+n)});if(!((0,u.j)(e)||e===null))throw new w(r);return e},t}(),so=function(){function t(){}return t.prototype.sendEvent=function(e){return u.S.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:te.Skipped})},t.prototype.close=function(e){return u.S.resolve(!0)},t}(),uo=function(){function t(e){this._options=e,this._options.dsn||u.l.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(e,r){throw new w("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(e,r,n){throw new w("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,function(r){u.l.error("Error while sending event: "+r)})},t.prototype.sendSession=function(e){if(!this._transport.sendSession){u.l.warn("Dropping session because custom transport doesn't implement sendSession");return}this._transport.sendSession(e).then(null,function(r){u.l.error("Error while sending session: "+r)})},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new so},t}();function ln(t){if(!(!t.metadata||!t.metadata.sdk)){var e=t.metadata.sdk,r=e.name,n=e.version;return{name:r,version:n}}}function co(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=M(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=M(t.sdk.packages||[],e.packages||[])),t}function fn(t,e){var r=ln(e),n=JSON.stringify(I(I({sent_at:new Date().toISOString()},r&&{sdk:r}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),i="aggregates"in t?"sessions":"session",a=JSON.stringify({type:i});return{body:n+`
`+a+`
`+JSON.stringify(t),type:i,url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function dn(t,e){var r=ln(e),n=t.type||"event",i=n==="transaction"||e.forceEnvelope(),a=t.debug_meta||{},o=a.transactionSampling,s=eo(a,["transactionSampling"]),c=o||{},l=c.method,f=c.rate;Object.keys(s).length===0?delete t.debug_meta:t.debug_meta=s;var p={body:JSON.stringify(r?co(t,e.metadata.sdk):t),type:n,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var h=JSON.stringify(I(I({event_id:t.event_id,sent_at:new Date().toISOString()},r&&{sdk:r}),e.forceEnvelope()&&{dsn:e.getDsn().toString()})),v=JSON.stringify({type:n,sample_rates:[{id:l,rate:f}]}),g=h+`
`+v+`
`+p.body;p.body=g}return p}function lo(t,e){var r;e.debug===!0&&u.l.enable();var n=(0,u.g)();(r=n.getScope())===null||r===void 0||r.update(e.initialScope);var i=new t(e);n.bindClient(i)}var pn="6.13.3",hn,vn=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){hn=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this.__sentry_original__||this;return hn.apply(n,e)}},t.id="FunctionToString",t}(),fo=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],mn=function(){function t(e){e===void 0&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){(0,u.b)(function(e){var r=(0,u.g)();if(!r)return e;var n=r.getIntegration(t);if(n){var i=r.getClient(),a=i?i.getOptions():{},o=typeof n._mergeOptions=="function"?n._mergeOptions(a):{};return typeof n._shouldDropEvent!="function"?e:n._shouldDropEvent(e,o)?null:e}return e})},t.prototype._shouldDropEvent=function(e,r){return this._isSentryError(e,r)?(u.l.warn(`Event dropped due to being internal Sentry Error.
Event: `+(0,u.k)(e)),!0):this._isIgnoredError(e,r)?(u.l.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,u.k)(e)),!0):this._isDeniedUrl(e,r)?(u.l.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,u.k)(e)+`.
Url: `+this._getEventFilterUrl(e)),!0):this._isAllowedUrl(e,r)?!1:(u.l.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,u.k)(e)+`.
Url: `+this._getEventFilterUrl(e)),!0)},t.prototype._isSentryError=function(e,r){if(!r.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&e.exception.values[0].type==="SentryError"||!1}catch(n){return!1}},t.prototype._isIgnoredError=function(e,r){return!r.ignoreErrors||!r.ignoreErrors.length?!1:this._getPossibleEventMessages(e).some(function(n){return r.ignoreErrors.some(function(i){return(0,u.m)(n,i)})})},t.prototype._isDeniedUrl=function(e,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return n?r.denyUrls.some(function(i){return(0,u.m)(n,i)}):!1},t.prototype._isAllowedUrl=function(e,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return n?r.allowUrls.some(function(i){return(0,u.m)(n,i)}):!0},t.prototype._mergeOptions=function(e){return e===void 0&&(e={}),{allowUrls:M(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:M(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:M(this._options.ignoreErrors||[],e.ignoreErrors||[],fo),ignoreInternal:typeof this._options.ignoreInternal!="undefined"?this._options.ignoreInternal:!0}},t.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var r=e.exception.values&&e.exception.values[0]||{},n=r.type,i=n===void 0?"":n,a=r.value,o=a===void 0?"":a;return[""+o,i+": "+o]}catch(s){return u.l.error("Cannot extract message for event "+(0,u.k)(e)),[]}return[]},t.prototype._getLastValidUrl=function(e){e===void 0&&(e=[]);for(var r,n,i=e.length-1;i>=0;i--){var a=e[i];if(((r=a)===null||r===void 0?void 0:r.filename)!=="<anonymous>"&&((n=a)===null||n===void 0?void 0:n.filename)!=="[native code]")return a.filename||null}return null},t.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var r=e.stacktrace.frames;return this._getLastValidUrl(r)}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return this._getLastValidUrl(n)}return null}catch(i){return u.l.error("Cannot extract url for event "+(0,u.k)(e)),null}},t.id="InboundFilters",t}(),po=Object.freeze({__proto__:null,FunctionToString:vn,InboundFilters:mn}),ve="?",ho=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,vo=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,mo=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,go=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,_o=/\((\S*)(?::(\d+))(?::(\d+))\)/,yo=/Minified React error #\d+;/i;function xe(t){var e=null,r=0;t&&(typeof t.framesToPop=="number"?r=t.framesToPop:yo.test(t.message)&&(r=1));try{if(e=Eo(t),e)return gn(e,r)}catch(n){}try{if(e=bo(t),e)return gn(e,r)}catch(n){}return{message:Bt(t),name:t&&t.name,stack:[],failed:!0}}function bo(t){var e,r;if(!t||!t.stack)return null;for(var n=[],i=t.stack.split(`
`),a,o,s,c,l=0;l<i.length;++l){if(s=ho.exec(i[l])){var f=s[2]&&s[2].indexOf("native")===0;a=s[2]&&s[2].indexOf("eval")===0,a&&(o=_o.exec(s[2]))&&(s[2]=o[1],s[3]=o[2],s[4]=o[3]);var p=s[2]&&s[2].indexOf("address at ")===0?s[2].substr("address at ".length):s[2],h=s[1]||ve;e=Qe(_n(h,p),2),h=e[0],p=e[1],c={url:p,func:h,args:f?[s[2]]:[],line:s[3]?+s[3]:null,column:s[4]?+s[4]:null}}else if(s=mo.exec(i[l]))c={url:s[2],func:s[1]||ve,args:[],line:+s[3],column:s[4]?+s[4]:null};else if(s=vo.exec(i[l])){a=s[3]&&s[3].indexOf(" > eval")>-1,a&&(o=go.exec(s[3]))?(s[1]=s[1]||"eval",s[3]=o[1],s[4]=o[2],s[5]=""):l===0&&!s[5]&&t.columnNumber!==void 0&&(n[0].column=t.columnNumber+1);var p=s[3],h=s[1]||ve;r=Qe(_n(h,p),2),h=r[0],p=r[1],c={url:p,func:h,args:s[2]?s[2].split(","):[],line:s[4]?+s[4]:null,column:s[5]?+s[5]:null}}else continue;!c.func&&c.line&&(c.func=ve),n.push(c)}return n.length?{message:Bt(t),name:t.name,stack:n}:null}function Eo(t){if(!t||!t.stacktrace)return null;for(var e=t.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=e.split(`
`),a=[],o,s=0;s<i.length;s+=2){var c=null;(o=r.exec(i[s]))?c={url:o[2],func:o[3],args:[],line:+o[1],column:null}:(o=n.exec(i[s]))&&(c={url:o[6],func:o[3]||o[4],args:o[5]?o[5].split(","):[],line:+o[1],column:+o[2]}),c&&(!c.func&&c.line&&(c.func=ve),a.push(c))}return a.length?{message:Bt(t),name:t.name,stack:a}:null}var _n=function(t,e){var r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:ve,r?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]};function gn(t,e){try{return b(b({},t),{stack:t.stack.slice(e)})}catch(r){return t}}function Bt(t){var e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}var So=50;function yn(t){var e=qt(t.stack),r={type:t.name,value:t.message};return e&&e.length&&(r.stacktrace={frames:e}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function To(t,e,r){var n={exception:{values:[{type:(0,u.o)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+(0,u.p)(t)}]},extra:{__serialized__:(0,u.q)(t)}};if(e){var i=xe(e),a=qt(i.stack);n.stacktrace={frames:a}}return n}function bn(t){var e=yn(t);return{exception:{values:[e]}}}function qt(t){if(!t||!t.length)return[];var e=t,r=e[0].func||"",n=e[e.length-1].func||"";return(r.indexOf("captureMessage")!==-1||r.indexOf("captureException")!==-1)&&(e=e.slice(1)),n.indexOf("sentryWrapped")!==-1&&(e=e.slice(0,-1)),e.slice(0,So).map(function(i){return{colno:i.column===null?void 0:i.column,filename:i.url||e[0].url,function:i.func||"?",in_app:!0,lineno:i.line===null?void 0:i.line}}).reverse()}function wo(t,e,r){var n=r&&r.syntheticException||void 0,i=Yt(e,n,{attachStacktrace:t.attachStacktrace});return(0,u.r)(i,{handled:!0,type:"generic"}),i.level=F.Error,r&&r.event_id&&(i.event_id=r.event_id),u.S.resolve(i)}function Oo(t,e,r,n){r===void 0&&(r=F.Info);var i=n&&n.syntheticException||void 0,a=Wt(e,i,{attachStacktrace:t.attachStacktrace});return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),u.S.resolve(a)}function Yt(t,e,r){r===void 0&&(r={});var n;if((0,u.s)(t)&&t.error){var i=t;return t=i.error,n=bn(xe(t)),n}if((0,u.v)(t)||(0,u.w)(t)){var a=t,o=a.name||((0,u.v)(a)?"DOMError":"DOMException"),s=a.message?o+": "+a.message:o;return n=Wt(s,e,r),(0,u.x)(n,s),"code"in a&&(n.tags=b(b({},n.tags),{"DOMException.code":""+a.code})),n}if((0,u.y)(t))return n=bn(xe(t)),n;if((0,u.j)(t)||(0,u.o)(t)){var c=t;return n=To(c,e,r.rejection),(0,u.r)(n,{synthetic:!0}),n}return n=Wt(t,e,r),(0,u.x)(n,""+t,void 0),(0,u.r)(n,{synthetic:!0}),n}function Wt(t,e,r){r===void 0&&(r={});var n={message:t};if(r.attachStacktrace&&e){var i=xe(e),a=qt(i.stack);n.stacktrace={frames:a}}return n}var L=(0,u.z)(),Ze;function En(){var t,e;if(Ze)return Ze;if((0,u.B)(L.fetch))return Ze=L.fetch.bind(L);var r=L.document,n=L.fetch;if(typeof((t=r)===null||t===void 0?void 0:t.createElement)=="function")try{var i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i),((e=i.contentWindow)===null||e===void 0?void 0:e.fetch)&&(n=i.contentWindow.fetch),r.head.removeChild(i)}catch(a){u.l.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return Ze=n.bind(L)}function ko(t,e){var r=Object.prototype.toString.call(L&&L.navigator)==="[object Navigator]",n=r&&typeof L.navigator.sendBeacon=="function";if(n){var i=L.navigator.sendBeacon.bind(L.navigator);return i(t,e)}if((0,u.A)()){var a=En();return Xa(a(t,{body:e,method:"POST",credentials:"omit",keepalive:!0}))}}var Sn={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},Xt=(0,u.z)(),Tn=function(){function t(e){var r=this;this.options=e,this._buffer=new Ka(30),this._rateLimits={},this._outcomes={},this._api=new sn(e.dsn,e._metadata,e.tunnel),this.url=this._api.getStoreEndpointWithUrlEncodedAuth(),this.options.sendClientReports&&Xt.document&&Xt.document.addEventListener("visibilitychange",function(){Xt.document.visibilityState==="hidden"&&r._flushOutcomes()})}return t.prototype.sendEvent=function(e){throw new w("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(e){return this._buffer.drain(e)},t.prototype.recordLostEvent=function(e,r){var n;if(!!this.options.sendClientReports){var i=Sn[r]+":"+e;u.l.log("Adding outcome: "+i),this._outcomes[i]=(n=this._outcomes[i],(n!=null?n:0)+1)}},t.prototype._flushOutcomes=function(){if(!!this.options.sendClientReports){var e=this._outcomes;if(this._outcomes={},!Object.keys(e).length){u.l.log("No outcomes to flush");return}u.l.log(`Flushing outcomes:
`+JSON.stringify(e,null,2));var r=this._api.getEnvelopeEndpointWithUrlEncodedAuth(),n=JSON.stringify({}),i=JSON.stringify({type:"client_report"}),a=JSON.stringify({timestamp:(0,u.e)(),discarded_events:Object.keys(e).map(function(s){var c=Qe(s.split(":"),2),l=c[0],f=c[1];return{reason:f,category:l,quantity:e[s]}})}),o=n+`
`+i+`
`+a;try{ko(r,o)}catch(s){u.l.error(s)}}},t.prototype._handleResponse=function(e){var r=e.requestType,n=e.response,i=e.headers,a=e.resolve,o=e.reject,s=te.fromHttpCode(n.status),c=this._handleRateLimit(i);if(c&&u.l.warn("Too many "+r+" requests, backing off until: "+this._disabledUntil(r)),s===te.Success){a({status:s});return}o(n)},t.prototype._disabledUntil=function(e){var r=Sn[e];return this._rateLimits[r]||this._rateLimits.all},t.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},t.prototype._handleRateLimit=function(e){var r,n,i,a,o=Date.now(),s=e["x-sentry-rate-limits"],c=e["retry-after"];if(s){try{for(var l=rn(s.trim().split(",")),f=l.next();!f.done;f=l.next()){var p=f.value,h=p.split(":",2),v=parseInt(h[0],10),g=(isNaN(v)?60:v)*1e3;try{for(var y=(i=void 0,rn(h[1].split(";"))),E=y.next();!E.done;E=y.next()){var j=E.value;this._rateLimits[j||"all"]=new Date(o+g)}}catch(k){i={error:k}}finally{try{E&&!E.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}}}catch(k){r={error:k}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}return!0}else if(c)return this._rateLimits.all=new Date(o+(0,u.C)(o,c)),!0;return!1},t}(),Io=function(t){Ke(e,t);function e(r,n){n===void 0&&(n=En());var i=t.call(this,r)||this;return i._fetch=n,i}return e.prototype.sendEvent=function(r){return this._sendRequest(dn(r,this._api),r)},e.prototype.sendSession=function(r){return this._sendRequest(fn(r,this._api),r)},e.prototype._sendRequest=function(r,n){var i=this;if(this._isRateLimited(r.type))return this.recordLostEvent(u.O.RateLimitBackoff,r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429});var a={body:r.body,method:"POST",referrerPolicy:(0,u.D)()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(a,this.options.fetchParameters),this.options.headers!==void 0&&(a.headers=this.options.headers),this._buffer.add(function(){return new u.S(function(o,s){i._fetch(r.url,a).then(function(c){var l={"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")};i._handleResponse({requestType:r.type,response:c,headers:l,resolve:o,reject:s})}).catch(s)})}).then(void 0,function(o){throw o instanceof w?i.recordLostEvent(u.O.QueueOverflow,r.type):i.recordLostEvent(u.O.NetworkError,r.type),o})},e}(Tn),Ro=function(t){Ke(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sendEvent=function(r){return this._sendRequest(dn(r,this._api),r)},e.prototype.sendSession=function(r){return this._sendRequest(fn(r,this._api),r)},e.prototype._sendRequest=function(r,n){var i=this;return this._isRateLimited(r.type)?(this.recordLostEvent(u.O.RateLimitBackoff,r.type),Promise.reject({event:n,type:r.type,reason:"Transport for "+r.type+" requests locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new u.S(function(a,o){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){var l={"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")};i._handleResponse({requestType:r.type,response:s,headers:l,resolve:a,reject:o})}},s.open("POST",r.url);for(var c in i.options.headers)i.options.headers.hasOwnProperty(c)&&s.setRequestHeader(c,i.options.headers[c]);s.send(r.body)})}).then(void 0,function(a){throw a instanceof w?i.recordLostEvent(u.O.QueueOverflow,r.type):i.recordLostEvent(u.O.NetworkError,r.type),a})},e}(Tn);var xo=function(t){Ke(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.eventFromException=function(r,n){return wo(this._options,r,n)},e.prototype.eventFromMessage=function(r,n,i){return n===void 0&&(n=F.Info),Oo(this._options,r,n,i)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var r=b(b({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(r):(0,u.A)()?new Io(r):new Ro(r)},e}(uo),et=(0,u.z)(),zt=0;function wn(){return zt>0}function No(){zt+=1,setTimeout(function(){zt-=1})}function me(t,e,r){if(e===void 0&&(e={}),typeof t!="function")return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(o){return t}var n=function(){var o=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);var s=o.map(function(c){return me(c,e)});return t.handleEvent?t.handleEvent.apply(this,s):t.apply(this,s)}catch(c){throw No(),Za(function(l){l.addEventProcessor(function(f){var p=b({},f);return e.mechanism&&((0,u.x)(p,void 0,void 0),(0,u.r)(p,e.mechanism)),p.extra=b(b({},p.extra),{arguments:o}),p}),Qa(c)}),c}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch(o){}t.prototype=t.prototype||{},n.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{var a=Object.getOwnPropertyDescriptor(n,"name");a.configurable&&Object.defineProperty(n,"name",{get:function(){return t.name}})}catch(o){}return n}function Po(t){if(t===void 0&&(t={}),!!et.document){if(!t.eventId){u.l.error("Missing eventId option in showReportDialog call");return}if(!t.dsn){u.l.error("Missing dsn option in showReportDialog call");return}var e=et.document.createElement("script");e.async=!0,e.src=new sn(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad);var r=et.document.head||et.document.body;r&&r.appendChild(e)}}var On=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=b({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(u.l.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(u.l.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||((0,u.E)({callback:function(r){var n=r.error,i=(0,u.g)(),a=i.getIntegration(t),o=n&&n.__sentry_own_request__===!0;if(!(!a||wn()||o)){var s=i.getClient(),c=n===void 0&&(0,u.F)(r.msg)?e._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):e._enhanceEventWithInitialFrame(Yt(n||r.msg,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);(0,u.r)(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||((0,u.E)({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch(l){}var i=(0,u.g)(),a=i.getIntegration(t),o=n&&n.__sentry_own_request__===!0;if(!a||wn()||o)return!0;var s=i.getClient(),c=(0,u.i)(n)?e._eventFromRejectionWithPrimitive(n):Yt(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=F.Error,(0,u.r)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(e,r,n,i){var a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=(0,u.s)(e)?e.message:e,s,c=o.match(a);c&&(s=c[1],o=c[2]);var l={exception:{values:[{type:s||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(l,r,n,i)},t.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},t.prototype._enhanceEventWithInitialFrame=function(e,r,n,i){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var a=isNaN(parseInt(i,10))?void 0:i,o=isNaN(parseInt(n,10))?void 0:n,s=(0,u.F)(r)&&r.length>0?r:(0,u.G)();return e.exception.values[0].stacktrace.frames.length===0&&e.exception.values[0].stacktrace.frames.push({colno:a,filename:s,function:"?",in_app:!0,lineno:o}),e},t.id="GlobalHandlers",t}(),Ao=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],kn=function(){function t(e){this.name=t.id,this._options=b({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var e=(0,u.z)();if(this._options.setTimeout&&(0,u.H)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,u.H)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,u.H)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&(0,u.H)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget){var r=Array.isArray(this._options.eventTarget)?this._options.eventTarget:Ao;r.forEach(this._wrapEventTarget.bind(this))}},t.prototype._wrapTimeFunction=function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r[0];return r[0]=me(i,{mechanism:{data:{function:(0,u.I)(e)},handled:!0,type:"instrument"}}),e.apply(this,r)}},t.prototype._wrapRAF=function(e){return function(r){return e.call(this,me(r,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,u.I)(e)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(e){var r=(0,u.z)(),n=r[e]&&r[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||((0,u.H)(n,"addEventListener",function(i){return function(a,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=me(o.handleEvent.bind(o),{mechanism:{data:{function:"handleEvent",handler:(0,u.I)(o),target:e},handled:!0,type:"instrument"}}))}catch(c){}return i.call(this,a,me(o,{mechanism:{data:{function:"addEventListener",handler:(0,u.I)(o),target:e},handled:!0,type:"instrument"}}),s)}}),(0,u.H)(n,"removeEventListener",function(i){return function(a,o,s){var c,l=o;try{var f=(c=l)===null||c===void 0?void 0:c.__sentry_wrapped__;f&&i.call(this,a,f,s)}catch(p){}return i.call(this,a,l,s)}}))},t.prototype._wrapXHR=function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this,a=["onload","onerror","onprogress","onreadystatechange"];return a.forEach(function(o){o in i&&typeof i[o]=="function"&&(0,u.H)(i,o,function(s){var c={mechanism:{data:{function:o,handler:(0,u.I)(s)},handled:!0,type:"instrument"}};return s.__sentry_original__&&(c.mechanism.data.handler=(0,u.I)(s.__sentry_original__)),me(s,c)})}),e.apply(this,r)}},t.id="TryCatch",t}(),Gt=function(){function t(e){this.name=t.id,this._options=b({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(e){!this._options.sentry||(0,u.g)().addBreadcrumb({category:"sentry."+(e.type==="transaction"?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,u.k)(e)},{event:e})},t.prototype.setupOnce=function(){var e=this;this._options.console&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];e._consoleBreadcrumb.apply(e,ee(r))},type:"console"}),this._options.dom&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];e._domBreadcrumb.apply(e,ee(r))},type:"dom"}),this._options.xhr&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];e._xhrBreadcrumb.apply(e,ee(r))},type:"xhr"}),this._options.fetch&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];e._fetchBreadcrumb.apply(e,ee(r))},type:"fetch"}),this._options.history&&(0,u.E)({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];e._historyBreadcrumb.apply(e,ee(r))},type:"history"})},t.prototype._consoleBreadcrumb=function(e){var r={category:"console",data:{arguments:e.args,logger:"console"},level:F.fromString(e.level),message:(0,u.J)(e.args," ")};if(e.level==="assert")if(e.args[0]===!1)r.message="Assertion failed: "+((0,u.J)(e.args.slice(1)," ")||"console.assert"),r.data.arguments=e.args.slice(1);else return;(0,u.g)().addBreadcrumb(r,{input:e.args,level:e.level})},t.prototype._domBreadcrumb=function(e){var r,n=typeof this._options.dom=="object"?this._options.dom.serializeAttribute:void 0;typeof n=="string"&&(n=[n]);try{r=e.event.target?(0,u.K)(e.event.target,n):(0,u.K)(e.event,n)}catch(i){r="<unknown>"}r.length!==0&&(0,u.g)().addBreadcrumb({category:"ui."+e.name,message:r},{event:e.event,name:e.name,global:e.global})},t.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var r=e.xhr.__sentry_xhr__||{},n=r.method,i=r.url,a=r.status_code,o=r.body;(0,u.g)().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:a},type:"http"},{xhr:e.xhr,input:o});return}},t.prototype._fetchBreadcrumb=function(e){!e.endTimestamp||e.fetchData.url.match(/sentry_key/)&&e.fetchData.method==="POST"||(e.error?(0,u.g)().addBreadcrumb({category:"fetch",data:e.fetchData,level:F.Error,type:"http"},{data:e.error,input:e.args}):(0,u.g)().addBreadcrumb({category:"fetch",data:b(b({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response}))},t.prototype._historyBreadcrumb=function(e){var r=(0,u.z)(),n=e.from,i=e.to,a=(0,u.L)(r.location.href),o=(0,u.L)(n),s=(0,u.L)(i);o.path||(o=a),a.protocol===s.protocol&&a.host===s.host&&(i=s.relative),a.protocol===o.protocol&&a.host===o.host&&(n=o.relative),(0,u.g)().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},t.id="Breadcrumbs",t}(),jo="cause",Co=5,In=function(){function t(e){e===void 0&&(e={}),this.name=t.id,this._key=e.key||jo,this._limit=e.limit||Co}return t.prototype.setupOnce=function(){(0,u.b)(function(e,r){var n=(0,u.g)().getIntegration(t);if(n){var i=n._handler&&n._handler.bind(n);return typeof i=="function"?i(e,r):e}return e})},t.prototype._handler=function(e,r){if(!e.exception||!e.exception.values||!r||!(0,u.M)(r.originalException,Error))return e;var n=this._walkErrorTree(r.originalException,this._key);return e.exception.values=ee(n,e.exception.values),e},t.prototype._walkErrorTree=function(e,r,n){if(n===void 0&&(n=[]),!(0,u.M)(e[r],Error)||n.length+1>=this._limit)return n;var i=xe(e[r]),a=yn(i);return this._walkErrorTree(e[r],r,ee([a],n))},t.id="LinkedErrors",t}(),ge=(0,u.z)(),Rn=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){(0,u.b)(function(e){var r,n,i;if((0,u.g)().getIntegration(t)){if(!ge.navigator&&!ge.location&&!ge.document)return e;var a=((r=e.request)===null||r===void 0?void 0:r.url)||((n=ge.location)===null||n===void 0?void 0:n.href),o=(ge.document||{}).referrer,s=(ge.navigator||{}).userAgent,c=b(b(b({},(i=e.request)===null||i===void 0?void 0:i.headers),o&&{Referer:o}),s&&{"User-Agent":s}),l=b(b({},a&&{url:a}),{headers:c});return b(b({},e),{request:l})}return e})},t.id="UserAgent",t}(),xn=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,r){e(function(n){var i=r().getIntegration(t);if(i){try{if(i._shouldDropEvent(n,i._previousEvent))return u.l.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(a){return i._previousEvent=n}return i._previousEvent=n}return n})},t.prototype._shouldDropEvent=function(e,r){return r?!!(this._isSameMessageEvent(e,r)||this._isSameExceptionEvent(e,r)):!1},t.prototype._isSameMessageEvent=function(e,r){var n=e.message,i=r.message;return!(!n&&!i||n&&!i||!n&&i||n!==i||!this._isSameFingerprint(e,r)||!this._isSameStacktrace(e,r))},t.prototype._getFramesFromEvent=function(e){var r=e.exception;if(r)try{return r.values[0].stacktrace.frames}catch(n){return}else if(e.stacktrace)return e.stacktrace.frames},t.prototype._isSameStacktrace=function(e,r){var n=this._getFramesFromEvent(e),i=this._getFramesFromEvent(r);if(!n&&!i)return!0;if(n&&!i||!n&&i||(n=n,i=i,i.length!==n.length))return!1;for(var a=0;a<i.length;a++){var o=i[a],s=n[a];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0},t.prototype._getExceptionFromEvent=function(e){return e.exception&&e.exception.values&&e.exception.values[0]},t.prototype._isSameExceptionEvent=function(e,r){var n=this._getExceptionFromEvent(r),i=this._getExceptionFromEvent(e);return!(!n||!i||n.type!==i.type||n.value!==i.value||!this._isSameFingerprint(e,r)||!this._isSameStacktrace(e,r))},t.prototype._isSameFingerprint=function(e,r){var n=e.fingerprint,i=r.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;n=n,i=i;try{return n.join("")===i.join("")}catch(a){return!1}},t.id="Dedupe",t}(),Lo=Object.freeze({__proto__:null,GlobalHandlers:On,TryCatch:kn,Breadcrumbs:Gt,LinkedErrors:In,UserAgent:Rn,Dedupe:xn}),Do=function(t){Ke(e,t);function e(r){r===void 0&&(r={});var n=this;return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:pn}],version:pn},n=t.call(this,xo,r)||this,n}return e.prototype.showReportDialog=function(r){r===void 0&&(r={});var n=(0,u.z)().document;if(!!n){if(!this._isEnabled()){u.l.error("Trying to call showReportDialog with Sentry Client disabled");return}Po(b(b({},r),{dsn:r.dsn||this.getDsn()}))}},e.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"javascript",t.prototype._prepareEvent.call(this,r,n,i)},e.prototype._sendEvent=function(r){var n=this.getIntegration(Gt);n&&n.addSentryBreadcrumb(r),t.prototype._sendEvent.call(this,r)},e}(oo),Fo=[new mn,new vn,new kn,new Gt,new On,new In,new xn,new Rn];function Nn(t){if(t===void 0&&(t={}),t.defaultIntegrations===void 0&&(t.defaultIntegrations=Fo),t.release===void 0){var e=(0,u.z)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0),lo(Do,t),t.autoSessionTracking&&Mo()}function Mo(){var t=(0,u.z)(),e=t.document;if(typeof e=="undefined"){u.l.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}var r=(0,u.g)();typeof r.startSession!="function"||typeof r.captureSession!="function"||(r.startSession({ignoreDuration:!0}),r.captureSession(),(0,u.E)({callback:function(n){var i=n.from,a=n.to;i===void 0||i===a||(r.startSession({ignoreDuration:!0}),r.captureSession())},type:"history"}))}var Pn={},Jt=(0,u.z)();Jt.Sentry&&Jt.Sentry.Integrations&&(Pn=Jt.Sentry.Integrations);var Bu=b(b(b({},Pn),po),Lo);var qn=je(Un());Nn({dsn:"https://cd8164655d204832bba96a931a6a018e@o483393.ingest.sentry.io/6010247",integrations:[new qn.Integrations.BrowserTracing],tracesSampleRate:1});"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js",{scope:"/"}).then(t=>{console.log("Registration succeeded. Scope is "+t.scope)}).catch(t=>{console.log("Registration failed with "+t)});var $s=ie(B,700),Yn="",Hs={columns:()=>{let t=be();return Pr(t)},search:()=>_r()},S=yr(async()=>{let e=be().length?"columns":"search";try{await Bn(document.body,Hs[e]()),Yn!==e&&setTimeout(()=>{B(!0)},700),Yn=e}catch(r){r.message==="NetworkError when attempting to fetch resource."?Bn(document.body,Ms`<h1 class="dbpedia-offline">Unfortunatly DBpedia is down.<br>Please come back later.</h1>`):console.info(r)}},300);S().then($s);window.addEventListener("popstate",S);export{S as drawApp};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=app.js.map
